const expect = require('unexpected')
  .clone()
  .use(require('unexpected-snapshot'))
  .use(require('magicpen-prism'));
const chanceCache = require('chance-generators/lib/chanceCache');

const CssAtRuleGenerator = require('../lib/CssAtRuleGenerator');

describe('CssAtRuleGenerator', () => {
  beforeEach(() => chanceCache.clear());

  it('should generate @font-face', () => {
    expect(
      new CssAtRuleGenerator({ type: 'font-face' }).take(10),
      'to equal snapshot',
      [
        "@font-face {\n  font-weight:normal ; font-style:normal ; src:url(kodtac) format('ofaufjom') ; font-feature-settings:normal ;\n}",
        "@font-face {\n  font-family:'do' ; unicode-range:U+9e4e-c3ab ; font-variant:none ; font-stretch:semi-condensed ;\n}",
        '@font-face {\n  font-weight:bold ;\n}',
        "@font-face {\n  src:url(de) format('va') ; font-variant:none ; font-family:'fuhazek' ; font-stretch:semi-expanded ; font-feature-settings:normal ; font-weight:bold ; unicode-range:U+9154-94cc ;\n}",
        '@font-face {\n  font-feature-settings:normal ; font-weight:bold ; unicode-range:U+322? ; font-variation-settings:normal ; font-style:oblique -222.6454rad ; font-stretch:extra-condensed ; font-variant:none ;\n}',
        "@font-face {\n  font-variation-settings:'bu' -1379876321886208 ; unicode-range:U+c5b1-d148 ; font-stretch:normal ; src:local('woscujduv') ; font-variant:swash(wighibwic) styleset(de) discretionary-ligatures traditional historical-forms stylistic(kivud) ornaments(mis) diagonal-fractions character-variant(cih) ruby ordinal tabular-nums historical-ligatures ; font-weight:7740744668282880 ; font-family:tanufmu ; font-feature-settings:'adlew'  ;\n}",
        '@font-face {\n  unicode-range:U+2a26 ; font-variation-settings:normal ; font-style:normal ;\n}',
        '@font-face {\n  src:local(cuug) ; unicode-range:U+407? ; font-weight:normal ; font-style:normal ; font-feature-settings:normal ; font-family:tu ; font-variant:none ;\n}',
        "@font-face {\n  font-family:umso ; font-style:normal ; src:local('wu') ; unicode-range:U+5e27-c47d ;\n}",
        "@font-face {\n  font-feature-settings:'ser'  ; font-stretch:normal ; font-family:hepgu ; font-style:oblique -204.856grad ;\n}"
      ]
    );
  });

  it('should generate @charset', () => {
    expect(
      new CssAtRuleGenerator({ type: 'charset' }).take(10),
      'to equal snapshot',
      [
        '@charset "DS_2089" ;',
        '@charset "EBCDIC-DK-NO-A" ;',
        '@charset "CP51932" ;',
        '@charset "BS_viewdata" ;',
        '@charset "IBM865" ;',
        '@charset "EBCDIC-AT-DE" ;',
        '@charset "HP-Math8" ;',
        '@charset "HP-Math8" ;',
        '@charset "PT" ;',
        '@charset "KZ-1048" ;'
      ]
    );
  });

  it('should generate @counter-style', () => {
    expect(
      new CssAtRuleGenerator({ type: 'counter-style' }).take(10),
      'to equal snapshot',
      [
        "@counter-style ofosid {\n  symbols:Ⓐ Ⓑ Ⓒ ; system:cyclic ; speak-as:auto ; negative:'ofaufjom' 'be' ; suffix:element(#celel) ;\n}",
        "@counter-style taj {\n  fallback:ozi ; suffix:bave ; negative:'tibawha' ; system:symbolic ; speak-as:spell-out ; pad:-149.6883pt ;\n}",
        "@counter-style sab {\n  speak-as:bullets ; range:infinite ; negative:'uhlog' ; fallback:sezsi ; additive-symbols:-41% bu ; prefix:cross-fade( url(gor) , currentcolor) ; pad:7% ; symbols:Ⓐ Ⓑ Ⓒ ; suffix:duvtih ; system:cyclic ;\n}",
        '@counter-style ko {\n  range:auto ; fallback:zonzebi ; prefix:biga ; pad:64% ;\n}',
        "@counter-style riide {\n  prefix:'tuhdulhak' ; fallback:retijic ; range:30% ; symbols:Ⓐ Ⓑ Ⓒ ; pad:-998.9593vmax ; speak-as:numbers ; system:fixed ;\n}",
        "@counter-style fi {\n  prefix:'rok' ; fallback:ugher ; symbols:Ⓐ Ⓑ Ⓒ ; speak-as:numbers ; system:additive ; pad:-703.8262in ;\n}",
        "@counter-style jopibje {\n  range:auto ; additive-symbols:holip 97% ; suffix:image-set('avkiwa' 858.3588dppx) ; symbols:Ⓐ Ⓑ Ⓒ ; negative:'boagedaw' ; speak-as:spell-out ; fallback:pufoj ; prefix:om ; pad:70% ; system:numeric ;\n}",
        '@counter-style guz {\n  suffix:kewo ; prefix:ikotucfow ; additive-symbols:url(opbed) -39% ; symbols:Ⓐ Ⓑ Ⓒ ; fallback:viuga ; system:additive ;\n}',
        "@counter-style pe {\n  pad:17.6282mm ; negative:'hi' 'miwtitpo' ;\n}",
        "@counter-style pufwi {\n  suffix:'lobohiunu' ; system:fixed ; range:auto ;\n}"
      ]
    );
  });

  it('should generate @document', () => {
    expect(
      new CssAtRuleGenerator({ type: 'document' }).take(10),
      'to equal snapshot',
      [
        "@document url-prefix('gotsalda') {\n  ::before { mask-clip: stroke-box; object-fit: fill; }\n* { padding-top: 94%; border-left-width: -636.3501vw; border-inline-end-style: groove; column-count: auto; inset-inline-end: -136.11ch; }\n:first { mask-mode: luminance; border-color: rgb(8534420776550400 ); border-start-end-radius: -818.7872vh; }\n:only-child { float: none; }\n::slotted( valbuunu . de ::va ( normal ):ik ( available )) { quotes: none; font-variant-caps: petite-caps; border-left-style: double; margin-block: -937.3735vw; }\n::after { grid-area: span dipakuj 50% / sezsi; break-after: avoid; clip-path: none; border-inline: thick; }\n:in-range { font-kerning: auto; clip: rect(-971.8404vmax , -602.3152rem , 422.6839rem , 580.3511vh); mask-composite: add; text-underline-position: auto; }\n:optional { text-overflow: 'neclekos'; }\n:nth-last-of-type(even) { text-decoration-line: overline underline; scroll-snap-align: center; }\n:required { border-start-start-radius: 25%; height:  -949.1618pc; border-block-start: thick; }\n\n}",
        "@document media-document('riide') {\n  :in-range { quotes: none; border-spacing: 885.7072cm -420.4971rem; border-image-source: repeating-radial-gradient(closest-side at -626.8599pc 32% , currentcolor  , -363.9931vmin , rgb(-4901084388655104 / -8997824985300992) 721.4612in); }\ncaption { justify-content: space-around; border-right-color: coral; box-shadow: none; }\n:disabled { border-inline-end: medium; list-style-image: none; font-size: larger; visibility: visible; translate: none; }\n:disabled { hyphens: auto; color-adjust: economy; caption-side: inline-end; animation-play-state: running; }\n:nth-of-type(odd) { font-stretch: normal; animation-name: none; counter-set: none; }\n:only-of-type { overflow: visible; isolation: auto; }\n:lang(za) { border-top: hsl(4111180268306432 81% 37% ) medium; will-change: contents; justify-items: legacy; }\n:valid + ::after { column-rule-style: double; }\n:checked { animation-timing-function: step-end; column-span: all; border-right-color: rgb(51% , -2726191219867648); min-width: -651.2672vw; }\n:read-only { font: menu; transform: translateX(34%); }\n:right { border-left-style: outset; }\n:not( * #azpig ::uwivoke:ewumovecu  * | * #opbed ::viuga:pe ( space )) { object-fit: none; scroll-snap-align: end; }\n:optional { margin-block: 9%; inset: 64%; }\n\n}",
        "@document url-prefix('su') {\n  :indeterminate { text-emphasis: currentcolor triangle filled; shape-outside: none; border-spacing: 444.9043pt ; }\n:nth-last-child(8n+7 ) { writing-mode: sideways-lr; }\n:last-child { break-inside: avoid-region; text-decoration-color: hsl(8161816697896960 , 93% , 33% , ); list-style: outside url(la) none; box-shadow: none; grid-template-columns: none; }\n:focus { font-kerning: none; scroll-padding-top: 57%; background-repeat: repeat-x; }\n:default { outline-offset: 980.1078mm; border-color: hsl(6798148865359872 , 32% , 74% , 13%); padding-block-start: 36%; list-style: none; }\n:in-range { border-top-width: thick; mask-mode: match-source; border-block: thick hidden; object-fit: fill; padding-block-start: 591.5854ch; }\n::cue(:first-of-type) { flex-shrink: 1420703647662080; }\n:invalid + :nth-last-of-type(odd) { column-width: -689.9168px; }\n::selection { scroll-padding-left: 3%; border-top-right-radius: -922.3306vmax; }\n:first { justify-items: normal; column-span: all; }\n:visited { box-sizing: content-box; unicode-bidi: bidi-override; grid-auto-rows: auto; background-blend-mode: overlay; }\n:not( [  | uzwebmek  = ba i ] ::vicod ( thin ):waoho ~  | * [  se  = ka  ] ::ku:nazinef ( table-caption )) { background-attachment: fixed; transition-delay: 270.1873s; }\n#bo { image-rendering: crisp-edges; shape-image-threshold: 709361055825920; order: 37%; border-image-width: -7735945746972672; transform-style: preserve-3d; }\n::marker { tab-size: 272.8072vw; }\n:valid { outline-width: thin; margin-block-end: 12%; grid-auto-rows: fit-content(82%); }\n::marker { font: small-caption; translate: 20% ; break-after: auto; border-radius: -245.4818ch ; }\n:only-child + :read-only { background-repeat: repeat-y; column-rule-style: dashed; }\n::after { animation-direction: reverse; scroll-padding: auto; break-inside: avoid-page; border-bottom: ThreeDShadow 470.1421pc inset; }\n::selection { line-break: auto; font-variant-caps: unicase; }\n:nth-last-child(odd of  * #ziew ::mozoglu ( minmax(min-content , auto) ):ic   #eceuzoli ::nase:zuzodol ( auto )) { line-break: auto; gap: 55% ; padding-inline: 937.3039em; overflow-y: scroll; scroll-padding-inline-end: 10%; }\n\n}",
        "@document regexp('we') {\n  :indeterminate { text-emphasis: open #5fd035; shape-outside: polygon(evenodd , 76% -247.4808rem) padding-box; scrollbar-width: thin; list-style-image: none; font-variant-caps: small-caps; }\n::first-letter { border-block-start-style: solid; height: available; }\n\n}",
        "@document url(sadod) {\n  :optional { place-self: first baseline stretch; flex-grow: -401452761612288; caret-color: auto; table-layout: fixed; }\n:dir(ltr) { scroll-margin-inline-end: -975.6911vw; vertical-align: middle; backface-visibility: visible; text-decoration-style: solid; inset-inline-start: auto; }\n::slotted( ucite [  wijwawuz ] ::nakefti:selu) { word-break: break-all; padding-block-end: 72.1927in; }\n:first-child { scroll-margin-top: 205.5638rem; box-sizing: content-box; border-bottom-width: thick; }\n[colspan=monokaivi] { border-image-width: -247.0733vh; }\n:valid { word-break: break-word; border-image-outset: 188.2614vh; flex-wrap: wrap; }\n::selection { scroll-padding-right: 6%; grid-row: auto ; border-bottom-width: thin; all: initial; block-size: auto; }\n:read-only { justify-content: safe right; list-style: none outside; flex-shrink: -4551371944624128; border-top: thick hsl(-4888336636313600 , 88% , 67% , 4%); filter: none; }\n.piemeamu ~ :nth-last-child(9n+8 ) { border-bottom-width: thin; animation-fill-mode: forwards; quotes: 'wuffob' 'simikis'; }\n:fullscreen { inset-block-end: 79%; text-orientation: upright; color: #860acc; }\n::backdrop { transition-delay: 592.9436ms; grid-auto-rows: fit-content(49%); scale: none; background-position: left 49%; }\n:fullscreen { border-left-style: groove; margin-inline: -316.8736cm; }\n:not( . fid ::gomu ( start ):fofbuke ( hidden )   [  | ijpe ] ::do ( 2304048594157568 ):idu ( -994.81in )) { scroll-margin-left: -830.966vh; margin-top: 972.514ex; justify-items: first baseline; border-start-start-radius: 76%; flex-direction: column; }\n:last-child { place-self: auto ; border-image: cross-fade(element(#bavliha)  , image( url(dedewsi) , hsl(-3.1156grad , 8% , 59% , 59%))); list-style-image: none; margin-inline-start: 57%; }\n:hover > :enabled { flex: content -2592330896900096 ; word-break: break-all; }\n:nth-of-type(odd) { align-items: normal; border-right-width: -269.2864ex; }\n:last-of-type { scroll-snap-stop: normal; }\n\n}",
        "@document url(faw) {\n  [draggable=moudu] { margin-block-start: auto; text-rendering: geometricPrecision; }\nspan { border-top-width: thin; border-inline-end: lightyellow double medium; grid-row-start: gazwipo; border-top: thick dotted; border-block-style: double; }\n:left { touch-action: none; }\n:first-child { margin-right: -261.5391mm; grid-auto-flow: dense; background-origin: padding-box; }\n::slotted( . dedbodnin ::duesudu:gajossav ( 655.8818vh )) { border-left: 629.1495ex groove lightseagreen; text-justify: inter-character; column-rule-color: InfoText; font-feature-settings: 'noiljis' ; }\n:left { border-start-end-radius: 799.1492mm; float: none; letter-spacing: normal; }\n::first-letter { mask-size: cover; border-block-start-width: thin; }\n::marker { max-height: fit-content; content: image(rtl url(inofoh) , rgba(4394545802379264 , )) ; }\n:default { padding-inline-start: 49%; text-align-last: center; counter-reset: devdopo -70%; }\n:last-of-type { font-stretch: extra-expanded; scrollbar-color: light; }\noptgroup { padding-block: 54%; padding-left: 198.0587mm; scroll-padding-bottom: auto; }\n::placeholder { counter-set: none; border-right-width: thin; font-variant-caps: petite-caps; caret-color: #274209; text-orientation: upright; }\n:left :only-child + :empty { page-break-after: verso; }\n:nth-last-of-type(odd) { margin: auto; }\n:read-write { text-transform: none; padding-inline: 15%; scale: -2261971244154880; mask-image: none; }\n:invalid { perspective-origin: bottom center; }\n:dir(rtl) ~ ::after || :active > ::after > ::first-line { table-layout: auto; inset-block-start: 182.5509Q; }\n\n}",
        "@document url-prefix('zeat') {\n  :nth-of-type(even) { font-language-override: normal; }\n\n}",
        "@document domain('ojiponig') {\n  :lang(tw) { border-top-left-radius: 155.2639pt; }\n\n}",
        '@document url(ohzi) {\n  :only-of-type { all: initial; orphans: 3%; }\n:active { translate: none; border-image:  30% / 499.921pc stretch; scroll-margin-inline-start: 796.1086mm; border-left-color: hsla(-926.9007grad 47% 84% / 6%); clip: auto; }\n:required { inset-inline-start: 53%; font-weight: bolder; font-optical-sizing: auto; }\n:nth-last-child(odd ) { border-inline-end-color: hsl(8036501640183808 , 76% , 37% , ); }\n:empty { min-width: max-content; font-stretch: ultra-expanded; animation-duration: 957.8629ms; scroll-padding-left: 66%; font-size-adjust: none; }\n:nth-child(3n+3 ) { inline-size:  57%; border-inline-width: thick; object-position: left top; scroll-margin-left: -513.6556vw; }\n\n}',
        "@document media-document('atuor') {\n  :default { clip: rect(792.6717cm , -973.9962Q , -828.983vh , -584.2275vmax); animation-duration: -754.4463ms; text-align-last: right; }\n:only-of-type { padding-bottom: 91%; scroll-padding-block: -328.2683ex; scroll-padding-block-end: auto; }\n:focus { animation-name: none; scroll-padding-inline: -181.1767vh; line-height: -1150642269716480; }\n\n}"
      ]
    );
  });

  it('should generate @font-feature-values', () => {
    expect(
      new CssAtRuleGenerator({ type: 'font-feature-values' }).take(10),
      'to equal snapshot',
      [
        "@font-feature-values 'gotsalda' {\n  @character-variant { satacwuw:-58% ; }\n}",
        "@font-feature-values 'goh' {\n  @swash { maro:-20% ; }\n}",
        "@font-feature-values 'uj' {\n  @historical-forms { apli:97% ; }\n}",
        '@font-feature-values enfic {\n  @stylistic { unukaho:-52% ; }\n}',
        "@font-feature-values 'tibawha' {\n  @swash { miribu:69% ; }\n}",
        '@font-feature-values muwwuh {\n  @stylistic { pakuj:50% ; }\n}',
        "@font-feature-values 'sezsi' {\n  @historical-forms { ad:-86% ; }\n}",
        "@font-feature-values 'zejaaf' {\n  @swash { asoojduv:70% ; }\n}",
        '@font-feature-values dako {\n  @styleset { sogrij:-76% ; }\n}',
        '@font-feature-values zonzebi {\n  @swash { biga:80% ; }\n}'
      ]
    );
  });

  it('should generate @import', () => {
    expect(
      new CssAtRuleGenerator({ type: 'import' }).take(10),
      'to equal snapshot',
      [
        "@import 'gotsalda'  ;",
        '@import url(fopcu) not uf and not (be) ;',
        '@import url(fauj)  ;',
        "@import 'taj' not sof  ;",
        "@import 'ozi' (not (((ebik:-635.5279Q) and (ginbu:6981775811149825/4051025054924801)) or (sowdipa))) and (zeenejom:-718.1516fr) ;",
        '@import url(bu)  ;',
        '@import url(jaaf) only cujduvtih  ;',
        "@import 'vewip'  ;",
        '@import url(lawus)  pawicna  ;',
        "@import 'nenvudsi'  cih and not (2662831533064193/5705193886842881 <  afmuret <  3209245650583553/2864320614498305) ;"
      ]
    );
  });

  it('should generate @keyframes', () => {
    expect(
      new CssAtRuleGenerator({ type: 'keyframes' }).take(10),
      'to equal snapshot',
      [
        '@keyframes gotsalda {\n  to {\n  content: none; border-end-end-radius: 65%; animation-delay: -887.1769s; padding-top: 94%; border-left-width: -636.3501vw;\n}\n}',
        '@keyframes tima {\n  from {\n  mask-mode: luminance; border-color: rgb(8534420776550400 ); border-start-end-radius: -818.7872vh;\n}\n}',
        "@keyframes 'pu' {\n  to {\n  background: local content-box element(#kahono) top  content-box repeat-x , padding-box left bottom / 85%; scrollbar-width: thin; transform-box: fill-box;\n}\n}",
        "@keyframes 'wuhsacuh' {\n  39% {\n  box-sizing: border-box; scroll-padding-bottom: 930.5107in; mask-image: image(  , rgba(1% / 4904325809700864)); font-kerning: auto;\n}\n}",
        '@keyframes af {\n  71% {\n  scroll-margin-block-end: 542.5407Q; background-size: contain; filter: sepia(85%); mask-size: cover;\n}\n}',
        '@keyframes le {\n  32% {\n  page-break-before: right; min-height: 89%; list-style-position: inside; float: left;\n}\n}',
        "@keyframes 'zonzebi' {\n  43% {\n  animation-duration: -121.327ms;\n}\n}",
        '@keyframes tih {\n  to {\n  padding-block: 14%; border-top-right-radius: 41%; justify-self:  baseline;\n}\n}',
        '@keyframes sefuwaho {\n  from {\n  grid-auto-rows: fit-content(-626.8599pc); text-emphasis: currentcolor none; text-emphasis-color: hsl(-779.8962grad 23% 65% ); -webkit-line-clamp: -30%; shape-margin: -986.0958em;\n}\n}',
        "@keyframes 'pedej' {\n  from {\n  border-inline-end: medium; list-style-image: none; font-size: larger; visibility: visible; translate: none;\n}\n}"
      ]
    );
  });

  it('should generate @media', () => {
    expect(
      new CssAtRuleGenerator({ type: 'media' }).take(10),
      'to equal snapshot',
      [
        "@media (sidfanu:202.23dpi) {\n  :optional { background-clip: content-box; }\n:required { transform-box: border-box; -webkit-line-clamp: none; word-wrap: normal; mask-position: center left; clear: both; }\n:only-child { border-color: rgb(8534420776550400 ); border-start-end-radius: -818.7872vh; }\n:only-child { float: none; }\n::slotted( valbuunu . de ::va ( normal ):ik ( available )) { quotes: none; font-variant-caps: petite-caps; border-left-style: double; margin-block: -937.3735vw; }\n::after { grid-area: span dipakuj 50% / sezsi; break-after: avoid; clip-path: none; border-inline: thick; }\n:in-range { font-kerning: auto; clip: rect(-971.8404vmax , -602.3152rem , 422.6839rem , 580.3511vh); mask-composite: add; text-underline-position: auto; }\n:optional { text-overflow: 'neclekos'; }\n:nth-last-of-type(even) { text-decoration-line: overline underline; scroll-snap-align: center; }\n:required { border-start-start-radius: 25%; height:  -949.1618pc; border-block-start: thick; }\n:only-of-type { column-rule: hidden rgba(41% , 20%); border-spacing: 885.7072cm -420.4971rem; border-image-source: repeating-radial-gradient(closest-side at -626.8599pc 32% , currentcolor  , -363.9931vmin , rgb(-4901084388655104 / -8997824985300992) 721.4612in); }\ncaption { justify-content: space-around; border-right-color: coral; box-shadow: none; }\n:disabled { border-inline-end: medium; list-style-image: none; font-size: larger; visibility: visible; translate: none; }\n:disabled { hyphens: auto; color-adjust: economy; caption-side: inline-end; animation-play-state: running; }\n:nth-of-type(odd) { font-stretch: normal; animation-name: none; counter-set: none; }\n\n}",
        "@media  riumso  {\n  :focus { border-top: whitesmoke medium dashed; justify-items: legacy; }\n:valid + ::after { column-rule-style: double; }\n:checked { animation-timing-function: step-end; column-span: all; border-right-color: rgb(51% , -2726191219867648); min-width: -651.2672vw; }\n:read-only { font: menu; transform: translateX(34%); }\n:right { border-left-style: outset; }\n:not( * #azpig ::uwivoke:ewumovecu  * | * #opbed ::viuga:pe ( space )) { object-fit: none; scroll-snap-align: end; }\n:optional { margin-block: 9%; inset: 64%; }\n:empty { border-top-color: #f91738; widows: -21%; }\n:last-of-type { text-indent:  65% each-line; outline-color: currentcolor; border-inline-start-style: dotted; padding-top: -438.4553px; animation-duration: 537.1081s; }\n#olu { text-overflow: 'buwmi'; unicode-bidi: bidi-override; }\n::placeholder { scroll-snap-type: none; clip-path: url(egpa); flex-grow: 1023240625455104; font-kerning: none; scroll-padding-top: 57%; }\n[tabindex=vuj] { border-top-style: double; }\n:first { column-rule-width: medium; scroll-snap-align: end; border-collapse: separate; padding-inline-end: 105.64in; clip-path: none; }\n:in-range { border-top-width: thick; mask-mode: match-source; border-block: thick hidden; object-fit: fill; padding-block-start: 591.5854ch; }\n::cue(:first-of-type) { flex-shrink: 1420703647662080; }\n:invalid + :nth-last-of-type(odd) { column-width: -689.9168px; }\n\n}",
        '@media  ebebuli  {\n  :link { scale: none; border-radius: 62% ; border-block-color: currentcolor; background-blend-mode: overlay; isolation: auto; }\n:not( * [ * | bojiza ] ::uc:vicod ( thin )   | jozwom . maglas ::da:ku) { padding-bottom: -51.6523ch; border-block-end-color: currentcolor; hanging-punctuation: force-end first; object-fit: contain; background-attachment: fixed; }\n::marker { text-decoration-line: none; border-width: thin; animation: obututven -6692342744481792 running alternate-reverse 91.2336s step-end; font: small-caption; }\n::placeholder { text-indent: -570.8218cm  ; animation-play-state: running; mask-position: right -229.2068vmax bottom -318.7509vmax; border-width: thin; }\n:left { padding: 35%; }\n:only-of-type { text-combine-upright: none; perspective: none; scroll-margin-inline-end: 935.1612in; line-break: auto; font-variant-caps: unicase; }\n:nth-last-child(odd of  * #ziew ::mozoglu ( minmax(min-content , auto) ):ic   #eceuzoli ::nase:zuzodol ( auto )) { line-break: auto; gap: 55% ; padding-inline: 937.3039em; overflow-y: scroll; scroll-padding-inline-end: 10%; }\n\n}',
        "@media  hakira  {\n  :dir(rtl) + :nth-last-of-type(even) { flex-flow: wrap-reverse column-reverse; word-break: keep-all; position: relative; flex-shrink: 3750259121455104; border-block: khaki 812.7088in; }\n:invalid ~ :left { align-self: stretch; grid-row: -77% tos / -20% ; }\n:last-of-type { border-block: outset thick rgb(8464584490876928 , -3194198123610112); text-decoration-style: solid; }\n:not( | * . ucite ::up ( min-content ):cuhocuna +  #nej ::cehul:jek ( 27% )) { border-bottom-width: thick; }\n[colspan=monokaivi] { border-image-width: -247.0733vh; }\n:valid { word-break: break-word; border-image-outset: 188.2614vh; flex-wrap: wrap; }\n::selection { scroll-padding-right: 6%; grid-row: auto ; border-bottom-width: thin; all: initial; block-size: auto; }\n:read-only { justify-content: safe right; list-style: none outside; flex-shrink: -4551371944624128; border-top: thick hsl(-4888336636313600 , 88% , 67% , 4%); filter: none; }\n.piemeamu ~ :nth-last-child(9n+8 ) { border-bottom-width: thin; animation-fill-mode: forwards; quotes: 'wuffob' 'simikis'; }\n:fullscreen { inset-block-end: 79%; text-orientation: upright; color: #860acc; }\n::backdrop { transition-delay: 592.9436ms; grid-auto-rows: fit-content(49%); scale: none; background-position: left 49%; }\n\n}",
        '@media ((radi:-1796026700660736) or ((kiw:4269066902568961/4640833819115521) or (hafeh   -7409276452601856))) and (lelam:380.7897grad) {\n  :valid + :last-of-type { overflow-y: visible; inset-block: auto; border-image-slice:  -4019414974332928; table-layout: fixed; }\n\n}',
        "@media (repeplil:bafoivi) or (el) {\n  :not( #we ::kuf:dew   | picronzik [  lu ] ::helkow ( normal ):le) { border-image-source: image(  , rgba(90% / -8077017241092096)); inset-inline-end: -179.2064rem; will-change: scroll-position; }\n::cue { vertical-align: 731.0143ch; scroll-padding-block: -18.5024em; padding-top: 82%; }\n::first-line { list-style-image: none; margin-block-end: 28%; scroll-padding-left: -625.9125vw; column-rule-width: medium; }\n:invalid { inset: auto; }\n:disabled { border-block-start-width: medium; mask-mode: match-source; clear: none; }\n:nth-last-of-type(even) { touch-action: none; }\n:first-child { margin-right: -261.5391mm; grid-auto-flow: dense; background-origin: padding-box; }\n::slotted( . dedbodnin ::duesudu:gajossav ( 655.8818vh )) { border-left: 629.1495ex groove lightseagreen; text-justify: inter-character; column-rule-color: InfoText; font-feature-settings: 'noiljis' ; }\n\n}",
        '@media not memcug and ((kodav:zunudo) and (((so:4449389632290817/7897202793906177)) or (raj))) and (mit) {\n  :last-of-type :dir(ltr) { scrollbar-color: light; all: unset; mask: margin-box match-source subtract left   fill-box; transition: all ease-in -963.7797s; }\n::before { touch-action: auto; margin: auto; padding-block: 93%; }\n.fonsaco { transform: rotateZ(0); }\n:lang(ca) { border-start-start-radius: 16%; }\n::after { border-bottom-left-radius: 93%; }\n:first-of-type { column-gap: 182.5509Q; font-language-override: normal; background-clip: content-box; content: normal; scroll-margin-inline-end: 575.5798ch; }\n:nth-of-type(even) { font-language-override: normal; }\n:not( | * . wuse ::fefpak:lojofgo >  * #ecufi ::cemet:nabel ( 129.6823px )) { clip: auto; }\n:required { inset-inline-start: 53%; font-weight: bolder; font-optical-sizing: auto; }\n:nth-last-child(odd ) { border-inline-end-color: hsl(8036501640183808 , 76% , 37% , ); }\n:empty { min-width: max-content; font-stretch: ultra-expanded; animation-duration: 957.8629ms; scroll-padding-left: 66%; font-size-adjust: none; }\n\n}',
        '@media  go and not (savrer:5500065468645376) {\n  ::slotted(* | *:fekkubo ::ebgutir:tejajsa ( inset )) { counter-set: livhuzod ; table-layout: fixed; grid-template-rows: [ gilpe ] repeat(55% , [ hetu ] minmax(13% , min-content) [ job ]) [ dunjamol ] repeat(auto-fit , [ ba ] 800.0373ex [ hoppaneki ])  repeat(52% ,  -667.4333vw [ do ]) [ lu ]; clear: right; }\n:fullscreen { padding-right: 30%; mask-mode: luminance; transition-delay: -47.8992ms; outline: thin hsl(-475.4719deg 60% 84% ) solid; transition-property: all; }\n:first-of-type { scale: none; border-block-start: thin hsla(196.5721grad , 46% , 24% , ); scroll-padding-block: auto; scroll-margin-inline-start: -995.3213rem; }\n::selection { align-content: space-between; flex: none; }\n:valid + ::first-line { border-collapse: separate; transition-delay: 381.1205ms; inset-inline: -826.5896px; transition-timing-function: steps(47% , start); resize: vertical; }\n\n}',
        '@media only hulhozor  {\n  :read-write { text-underline-position: right; grid-row-end: span guukalo; shape-outside: none; }\n\n}',
        '@media  epa and (not (irkis:-869.2874pt)) and ((kopikohib)) {\n  ::before { animation-direction: normal; text-align-last: start; isolation: auto; transform-box: view-box; scroll-margin-inline: -859.9406vw; }\nh2 { row-gap: normal; }\n:indeterminate { grid-template: [ ukdijro ] repeat(24% ,  min-content )  / none; }\n::backdrop { padding-left: 178.2171ch; break-before: auto; }\n::first-letter { background: repeating-radial-gradient(ellipse  , ThreeDShadow 60%  , Menu 486.7057vw) center  content-box , scroll none repeat-y border-box border-box rgba(5036546021392384 , 5418185012543488); background-color: wheat; border-right: outset #2c8466 thin; font-kerning: normal; resize: horizontal; }\n:read-write { border-image-repeat: space; scroll-padding: auto; border-right-style: groove; border-right-style: ridge; justify-items: normal; }\n:nth-last-of-type(odd) { shape-margin: -85.1358vmin; font-feature-settings: normal; box-sizing: content-box; }\n:last-of-type { backface-visibility: hidden; scroll-snap-stop: always; animation-name: rocme; flex-grow: -8915647576670208; border-width: medium; }\n:required { hyphens: manual; }\n[wrap=vu] { word-wrap: break-word; }\n\n}'
      ]
    );
  });

  it('should generate @namespace', () => {
    expect(
      new CssAtRuleGenerator({ type: 'namespace' }).take(10),
      'to equal snapshot',
      [
        '@namespace  url(wosalda) ;',
        '@namespace  url(fopcu) ;',
        "@namespace gafgohrak 'ted' ;",
        "@namespace  'hiapli' ;",
        "@namespace cuval 'ozi' ;",
        "@namespace bave 'tibawha' ;",
        '@namespace miribu url(okonokan) ;',
        '@namespace  url(kuj) ;',
        '@namespace ene url(red) ;',
        '@namespace  url(bu) ;'
      ]
    );
  });

  it('should generate @page', () => {
    expect(
      new CssAtRuleGenerator({ type: 'page' }).take(10),
      'to equal snapshot',
      [
        '@page  {\n  @right-bottom { page-break-inside: avoid; } @bottom-right-corner { grid: none; }  ; border-end-end-radius: 65% \n}',
        '@page  {\n  @left-middle { transform-box: border-box; -webkit-line-clamp: none; word-wrap: normal; mask-position: center left; clear: both; } @bottom-left { background: padding-box right / contain , repeat-x rgb(7965998619557888 , 81%) fixed left  border-box; } @top-right { overflow-wrap: normal; mask-mode: luminance; scroll-padding-inline-start: auto; } font-feature-settings: normal \n}',
        '@page pe:first {\n  @top-center { vertical-align: 78%; } font-kerning: none ; @left-middle { column-span: none; margin-block: 41.6685ch; translate: none; scroll-padding-top: auto; place-self: normal unsafe right; } left: -718.1516in ;  \n}',
        '@page:blank {\n   \n}',
        "@page  {\n  border-inline-start-width: medium ; @left-bottom { mask-composite: add; text-underline-position: auto; object-fit: fill; text-overflow: 'neclekos'; } @left-top { text-decoration-line: overline underline; scroll-snap-align: center; } @bottom-right { scale: none; height:  -949.1618pc; }  \n}",
        '@page riide:first {\n  quotes: none \n}',
        '@page:first {\n  border-image-source: repeating-radial-gradient(closest-side at -626.8599pc 32% , currentcolor  , -363.9931vmin , rgb(-4901084388655104 / -8997824985300992) 721.4612in) \n}',
        '@page  {\n  @bottom-right { grid-template-columns: none; padding: -461.1754mm; border-top-color: ButtonFace; }  ; @left-middle { flex-basis: content; visibility: visible; translate: none; } hyphens: auto \n}',
        '@page  {\n  animation-play-state: running ; @bottom-right { background-blend-mode: normal; break-before: avoid-page; text-justify: inter-word; } border-end-start-radius: 49% \n}',
        '@page vas:right {\n   ; @bottom-left-corner { max-width: fill-available; max-width: none; justify-items: legacy; } scroll-padding-inline-end: auto \n}'
      ]
    );
  });

  it('should generate @supports', () => {
    expect(
      new CssAtRuleGenerator({ type: 'supports' }).take(10),
      'to equal snapshot',
      [
        "@supports (zin element(#tac) content content) and (gu #4de2d1) {\n  :link { font-variant-ligatures: normal; }\n:first { mask-mode: luminance; border-color: rgb(8534420776550400 ); border-start-end-radius: -818.7872vh; }\n:only-child { float: none; }\n::slotted( valbuunu . de ::va ( normal ):ik ( available )) { quotes: none; font-variant-caps: petite-caps; border-left-style: double; margin-block: -937.3735vw; }\n::after { grid-area: span dipakuj 50% / sezsi; break-after: avoid; clip-path: none; border-inline: thick; }\n:in-range { font-kerning: auto; clip: rect(-971.8404vmax , -602.3152rem , 422.6839rem , 580.3511vh); mask-composite: add; text-underline-position: auto; }\n:optional { text-overflow: 'neclekos'; }\n:nth-last-of-type(even) { text-decoration-line: overline underline; scroll-snap-align: center; }\n:required { border-start-start-radius: 25%; height:  -949.1618pc; border-block-start: thick; }\n:only-of-type { column-rule: hidden rgba(41% , 20%); border-spacing: 885.7072cm -420.4971rem; border-image-source: repeating-radial-gradient(closest-side at -626.8599pc 32% , currentcolor  , -363.9931vmin , rgb(-4901084388655104 / -8997824985300992) 721.4612in); }\ncaption { justify-content: space-around; border-right-color: coral; box-shadow: none; }\n:disabled { border-inline-end: medium; list-style-image: none; font-size: larger; visibility: visible; translate: none; }\n:disabled { hyphens: auto; color-adjust: economy; caption-side: inline-end; animation-play-state: running; }\n\n}",
        "@supports (beip content-box) and ((word-break: keep-all) and (heajiupe ( column dense ) and (not (padding-block: 716.7176px)))) {\n  :out-of-range { animation: alternate forwards ease-out paused 675.4202ms 351.3803ms; perspective: none; }\n:default { left: auto; padding-block: -542.9Q; border-inline-style: inset; will-change: contents; isolation: auto; }\n:disabled { border-block-end: Menu hidden thin; break-before: avoid-page; padding-block-start: 85%; text-emphasis-color: currentcolor; text-decoration-line: none; }\n:target { min-inline-size: fit-content; border-block-color: ButtonFace; scroll-margin-block: 797.1084rem; mask-composite: intersect; align-self: normal; }\n::marker + :out-of-range { align-content:  baseline; column-count: auto; grid-template-columns:  repeat(100% ,  1% )  repeat(auto-fill ,  minmax(65% , 85%) [ sipe ]) [ hi ] repeat(98% ,  minmax(91% , max-content) ) [ tiref ]; border-spacing: 444.9043pt ; margin-block-end: 537.1081Q; }\n#olu { text-overflow: 'buwmi'; unicode-bidi: bidi-override; }\n::placeholder { scroll-snap-type: none; clip-path: url(egpa); flex-grow: 1023240625455104; font-kerning: none; scroll-padding-top: 57%; }\n\n}",
        '@supports not (not selector( juh [  | lihakhup ~ = tof i ] ::cuvbe ( auto ):belru   | * . ah ::kizef:cugi ( right ))) {\n  :only-of-type { page-break-after: auto; }\n::selection { inset-block-end: auto; column-rule-width: 590.3724mm; box-sizing: content-box; font-weight: lighter; border: 925.2969cm; }\n::after { padding-block: 41%; background-color: rgba(-6189080085790720 , ); border-top-right-radius: 98.4533cm; }\n:required { order: 87%; }\n:enabled { transition-duration: 33.3925s; opacity: 979155629899776; font-variant-position: sub; page-break-inside: auto; }\n#las { all: inherit; }\n#ku + ::selection ~ :read-write { grid-row-end: auto; }\n:scope + :left { grid-row-end: mo; font-language-override: normal; mask-position: top -250.7748ch right 50%; image-orientation: 317.3873rad flip; border-image-width: -7735945746972672; }\n::marker { transform-style: flat; tab-size: 272.8072vw; scroll-margin-inline-start: 150.9484rem; font-family: fantasy; }\n:last-child > :valid { scroll-padding-block-start: 38%; scroll-padding-block-start: 91%; border-left-color: rgba(-7757697118109696 ); }\n:hover + .to { background-repeat: repeat-y; column-rule-style: dashed; }\n::after { animation-direction: reverse; scroll-padding: auto; break-inside: avoid-page; border-bottom: ThreeDShadow 470.1421pc inset; }\n::selection { line-break: auto; font-variant-caps: unicase; }\n:nth-last-child(odd of  * #ziew ::mozoglu ( minmax(min-content , auto) ):ic   #eceuzoli ::nase:zuzodol ( auto )) { line-break: auto; gap: 55% ; padding-inline: 937.3039em; overflow-y: scroll; scroll-padding-inline-end: 10%; }\n\n}',
        "@supports (aw ( fill ) and ((not (lutow waze)) and selector( #dihani ::zatossez:jarek || :kuru ( break-word ) ::vuc:goh ( none )))) or selector(uzikdo | fanej #cehul ::jek ( 27% ):cuw + ivi | * #me ::uzlilez ( smooth ):nafeca ( 53% )) {\n  :root { text-overflow: ellipsis; margin-inline-end: auto; page-break-after: verso; resize: inline; flex-shrink: -4551371944624128; }\n:disabled { border-left-color: rgba(8179456187301888 ); mask-composite: add; border-spacing: 756.4414rem 236.2565ch; }\n:focus { border-block-start-style: none; outline-offset: -3.6696pt; }\n:last-of-type { scroll-padding-inline: 704.363vmax; line-height: 56%; border-block-style: inset; scroll-margin-block-end: -193.0343px; }\n:last-of-type > .apoafu { mask-position: center center; }\n:indeterminate { font-variant-position: normal; text-indent: each-line 567.3061vmin ; color: #860acc; }\n::backdrop { transition-delay: 592.9436ms; grid-auto-rows: fit-content(49%); scale: none; background-position: left 49%; }\n:fullscreen { border-left-style: groove; margin-inline: -316.8736cm; }\n:not( . fid ::gomu ( start ):fofbuke ( hidden )   [  | ijpe ] ::do ( 2304048594157568 ):idu ( -994.81in )) { scroll-margin-left: -830.966vh; margin-top: 972.514ex; justify-items: first baseline; border-start-start-radius: 76%; flex-direction: column; }\n:last-child { place-self: auto ; border-image: cross-fade(element(#bavliha)  , image( url(dedewsi) , hsl(-3.1156grad , 8% , 59% , 59%))); list-style-image: none; margin-inline-start: 57%; }\n:hover > :enabled { flex: content -2592330896900096 ; word-break: break-all; }\n:nth-of-type(odd) { align-items: normal; border-right-width: -269.2864ex; }\n:last-of-type { scroll-snap-stop: normal; }\n:enabled + :valid { background-clip: content-box; }\n::after { background-blend-mode: hard-light; }\n.uzamiz { tab-size: 64%; white-space: pre; hanging-punctuation: none; padding-top: 82%; top: auto; }\n:nth-child(even of  . gazwipo ::wojan:pem ( -261.5391mm )   [ ace | bod ] ::silaw ( 661.2389vh ):osofa ( none )) { place-content: space-evenly ; scroll-padding-right: 655.8818vh; pointer-events: visiblePainted; scroll-margin-inline-start: -672.6881vmax; border-image-width: 23%; }\n:out-of-range { inset-inline-end: auto; filter: none; text-combine-upright: all; font-feature-settings: 'noiljis' ; }\n:left { border-start-end-radius: 799.1492mm; float: none; letter-spacing: normal; }\n::first-letter { mask-size: cover; border-block-start-width: thin; }\n\n}",
        '@supports (fotimino ( auto ) and zobewol ( left bottom )) or (mit ( auto  ) and ((tisirse auto) and (hikju none))) {\n  :nth-last-of-type(6n+2) { border-top-width: 452.1912vmin; margin-right: auto; border-block-end-width: medium; text-rendering: optimizeLegibility; }\n:target { animation-direction: alternate; object-fit: fill; scale: -2261971244154880; mask-image: none; font-variant-caps: normal; }\n:right { transform: rotateZ(0); }\n:lang(ca) { border-start-start-radius: 16%; }\n::after { border-bottom-left-radius: 93%; }\n:first-of-type { column-gap: 182.5509Q; font-language-override: normal; background-clip: content-box; content: normal; scroll-margin-inline-end: 575.5798ch; }\n:nth-of-type(even) { font-language-override: normal; }\n:not( | * . wuse ::fefpak:lojofgo >  * #ecufi ::cemet:nabel ( 129.6823px )) { clip: auto; }\n:required { inset-inline-start: 53%; font-weight: bolder; font-optical-sizing: auto; }\n:nth-last-child(odd ) { border-inline-end-color: hsl(8036501640183808 , 76% , 37% , ); }\n:empty { min-width: max-content; font-stretch: ultra-expanded; animation-duration: 957.8629ms; scroll-padding-left: 66%; font-size-adjust: none; }\n:nth-child(3n+3 ) { inline-size:  57%; border-inline-width: thick; object-position: left top; scroll-margin-left: -513.6556vw; }\n:required { scroll-snap-type: both mandatory; transform-style: preserve-3d; border-color: rgba(-3726319137325056 ); text-emphasis-color: rgb(63% ); }\n:right { scroll-snap-align: none; border-bottom-color: rgba(1495943698448384 , 3673966904344576); }\n::cue(:visited) { counter-reset: len ; box-shadow: 547.6691px  ; shape-margin: -560.979vw; white-space: pre-wrap; }\n:target { border-block-start-width: thick; }\n:nth-last-child(even of  | bizi [  fo ^ = ifo  ] ::oma ( space-between ):ri +  * #fe ::wig ( isolate ):sumij ( 42% )) { display: flow block; }\n:nth-of-type(odd) { background-position: -125.6132mm 72%; clip-path: fill-box ellipse(farthest-side ); }\n:right { border-radius: -937.6338px ; border-image-source: linear-gradient(910.4727rad , rgba(2221761651277824 / -7086895804710912)   , hsl(-81221220564992 , 71% , 69% , -726313228828672) ); block-size: fit-content; }\n\n}',
        '@supports not janleaw ( -726.3628s ) {\n  :read-only { inset-inline: -826.5896px; transition-timing-function: steps(47% , start); resize: vertical; }\n:required { min-height: fit-content; width: available; text-emphasis-style: open dot; transform-style: preserve-3d; }\n#suz { list-style-image: none; }\n:last-child { column-rule: medium; page-break-inside: auto; border-inline-start-color: Background; visibility: hidden; transform-style: preserve-3d; }\n:last-child { shape-outside: none; scroll-padding-top: auto; column-rule-style: double; scroll-padding-inline: 300.3347px; }\n:focus { list-style-position: inside; grid-template-areas: none; }\n::cue(:not( . ciamape ::ikohib ( rtl ):if ( [ ubcoma ] minmax(58% , auto)  repeat(auto-fit ,  minmax(-164.4664mm , 45.0384vh) [ di ])  29% [ beb ] /  auto-flow  )   . huatesi ::onitufuce ( inherit ):sudeb ( no-repeat ))) { animation-play-state: running; transition-property: cozim; }\n::first-line { writing-mode: vertical-lr; border-inline-color: hsl(516.477grad 70% 100% ); text-emphasis-color: currentcolor; }\n:last-child { mask-size: auto; justify-items: normal; }\n:nth-last-of-type(odd) { shape-margin: -85.1358vmin; font-feature-settings: normal; box-sizing: content-box; }\n:last-of-type { backface-visibility: hidden; scroll-snap-stop: always; animation-name: rocme; flex-grow: -8915647576670208; border-width: medium; }\n:required { hyphens: manual; }\n[wrap=vu] { word-wrap: break-word; }\n* { text-decoration-color: hsla(813.0275turn , 57% , 35% , 54%); margin: auto; box-decoration-break: clone; }\n::before { scroll-margin-inline: 736.3216Q; border-top-color: currentcolor; border-image-slice: fill 6071092410056704; }\n:disabled { top: auto; border-block-start: rgba(6861157549735936 , 47%) none; text-combine-upright: digits ; border-bottom-right-radius: 33%; }\n:dir(rtl) { border-image-source: none; scroll-padding-block: 76%; inline-size: available; align-items: normal; caret-color: auto; }\n:only-child { width: max-content; max-width: -480.3929mm; }\n:only-of-type { justify-self: unsafe start; }\n:root { left: 97%; }\n\n}',
        "@supports (max-width: 94%) or fosohwo ( railed ) {\n  :last-child { background-color: #131f2c; background: content-box padding-box scroll repeat-y center center / 637.5713vh none , hsla(6380876044697600 16% 53% / 70%) center / auto content-box none repeat-y; }\n:enabled > ::before { translate: none; animation-iteration-count: infinite; page-break-inside: avoid; text-justify: inter-character; shape-image-threshold: 2495461604720640; }\n::placeholder { right: -115.4025vw; column-gap: normal; }\n:first-child { page-break-after: always; place-self: normal ; animation-iteration-count: 2732186637697024; padding-left: 125.5006vmax; grid-row-end: fafdod; }\n:scope { scroll-padding-top: 1%; mask-type: alpha; border-bottom-style: dotted; }\n.upanibsa { overflow-x: hidden; font-variant-ligatures: none; border-inline-start-width: -16.8109em; background-origin: padding-box; }\n:nth-last-of-type(3n+6) { font-variant-numeric: normal; will-change: auto; border-image: -1881692478373888  / 70% / 6487388247293952; transition-duration: 559.702s; }\n#zahasab { grid-template-areas: 'kis'; align-self:  center; inset-block-start: 8%; }\n::cue { animation-name: kaser; }\n:read-only { scroll-padding-block-start: auto; animation-timing-function: linear; outline-offset: -790.8644vw; min-block-size: 412.9515vmin; animation-iteration-count: 7858101176762368; }\n:only-child { mask-origin: stroke-box; }\n:first { transform: rotateZ(0); mask-type: alpha; scroll-margin: -321.0996Q; scroll-padding: auto; }\n\n}",
        '@supports not selector(* | * . bidnas ::taip:nes   * [  bop ] ::rul:mo ( running )) {\n  .el { table-layout: fixed; }\n:required { place-items:  self-end ; perspective: none; row-gap: 4%; }\n:nth-child(odd of  * #posutve ::ijlo ( hide ):fomunte ( InactiveCaptionText )  :hamin ::vifo ( normal ):epki ( 13% )) { vertical-align: super; grid-auto-flow: column; }\n[checked=pi] { outline-color: invert; border-end-start-radius: -101.1323ex; }\n:nth-last-of-type(even) { padding-inline: -665.9162mm; border-inline: thin groove; justify-content: stretch; scroll-padding-top: 45%; margin-inline-end: auto; }\n::before { border-left-color: #1ca6c3; animation-name: none; word-break: normal; }\n:not(:del ::kasarmu:baztusig ~  . fabkaofo ::gas ( none ):ufe) > :read-only { scroll-padding-left: 37%; overflow-wrap: normal; hyphens: none; mask-position: bottom 3% left 80%; }\n:read-only { outline-width: medium; border-radius: 66% / 333.943Q; margin-bottom: -302.8527Q; border-image-source: element(#uv); font-size-adjust: 6678900365066240; }\n:root { border-block-width: medium; clear: inline-start; border-block-start-color: MenuText; font-size: 851.3497rem; }\n\n}',
        "@supports (ahiajaro none) and (selector( [  niglig  = 'fopzim'  ] ::pulbujla ( 5% ):nok ( 82% ) ~  | *:ipiz ::lafpef:te) and (outline-offset: -385.4201vmin)) {\n  :not( * #wegmud ::vu ( touch ):jat ( available )   * . ame ::dubtum:aftak ( thick )) { text-emphasis-position: left over; border-top-width: thick; color-adjust: economy; page-break-inside: avoid; scroll-snap-stop: normal; }\n:out-of-range { scroll-margin-right: -808.9294vh; mask-size: 173.2169em; border-inline: currentcolor; shape-outside: inset(-952.7229in round 214.1881ex / 23%); }\n:empty { max-width: min-content; background-color: hsla(-450.9195deg 60% 70% / -1031919407988736); }\n:invalid { padding-left: 69%; animation: 811.0496ms 545.2455ms reverse running 'mehe' infinite backwards linear; gap: 6% -532.5759Q; }\n:not(:rehka ( add ) ::liznij ( 124.5936cm ):togamdi ( size layout paint style ) || :mu ::wus:vic ( url(zud) )) { scroll-padding-bottom: 16%; padding-inline-end: -927.6793cm; color-adjust: economy; bottom: 36%; }\n:hover { cursor: url(riaknu) 746.6734pt -676.4716vmin , nwse-resize; }\n:left { word-wrap: break-word; scroll-snap-stop: normal; border-left-style: double; }\n::first-line { border-block-start-width: medium; scroll-padding-block: 348.6076vmin; }\n:not( | *:cek ::ve:sowsalkun   [ oku | lac  = 'huro' i ] ::omnec:gasoj (   cross-fade( url(zapjuk) , ) )) { border-end-end-radius: -757.2302vh; }\n:first { border-block-end-style: hidden; padding: 6%; }\n:only-child { max-width: fill-available; border-spacing: 627.9406ex -558.3948in; border-inline-color: #a7dd81; }\n:not( | miplemit #zuhipi ::sofamgeb:ufu ( -914.7336pt )   . nivda ::eh:nujmulaz) { border-bottom-width: thick; border-block-end-width: thick; order: -37%; transform-origin: -441.2646vmax right ; border-top-style: outset; }\n:target { scroll-padding-block-end: 318.7079mm; text-emphasis-color: hsla(2052444938829824 , 89% , 6% , ); inset-block-start: auto; }\n:right ~ ::slotted( | co [  daomlel  = zupgef  ] ::esama:uwe) :target { border-right-width: medium; widows: -24%; outline-color: rgb(25% / 4947362413805568); background-repeat: repeat-y; }\n::placeholder { grid-template: none; text-emphasis-color: GrayText; scroll-margin-inline: -749.5329in; }\n:last-child { border-block-start-style: groove; grid-template-columns: [ apodadu ] repeat(23% ,  minmax(43% , min-content) ) ; mask-origin: margin-box; break-after: all; top: 351.9646em; }\n:left { all: unset; word-wrap: normal; outline-offset: 631.8939in; shape-margin: 85%; border-width: thick; }\n\n}",
        '@supports (esozap ( rgba(811132847652864 / 27%) ) and (fad fit-content)) and (fujmis ( auto ) or selector( #vasov ::fibug ( none ):daitgem ( scroll ) ~  | rimes:beszerza ::im ( auto ):toifi)) {\n  :indeterminate { font-style: normal; padding-block: -993.5635ch; mask-repeat: repeat-x; empty-cells: show; }\n:target { border-block-width: thin; margin-inline-start: auto; }\n:last-of-type { min-inline-size: fit-content; background-origin: border-box; margin-inline: 122.9692rem; }\n\n}'
      ]
    );
  });

  it('should generate @viewport', () => {
    expect(
      new CssAtRuleGenerator({ type: 'viewport' }).take(10),
      'to equal snapshot',
      [
        '@viewport {\n  :target { border-inline-end-style: ridge; scroll-behavior: smooth; margin-top: -108.3345em; border-block-end-style: none; grid-auto-rows: fit-content(202.23em); }\n:read-write { animation-delay: -887.1769s; padding-top: 94%; border-left-width: -636.3501vw; border-inline-end-style: groove; }\n:first { inset-inline-end: -136.11ch; clear: both; mask-mode: luminance; border-color: rgb(8534420776550400 ); }\n:dir(ltr) { scroll-margin-block: 236.772em; }\n:hover { will-change: contents; background: local content-box element(#kahono) top  content-box repeat-x , padding-box left bottom / 85%; scrollbar-width: thin; }\n::marker { text-emphasis: GrayText none; margin-block: 41.6685ch; }\n::placeholder { scroll-padding-top: auto; place-self: normal unsafe right; }\n:enabled { left: -718.1516in; scroll-margin-inline-end: -669.4662cm; animation: infinite backwards 422.6839s 580.3511s ease alternate-reverse running epidako; column-span: all; }\n\n}',
        '@viewport {\n  :nth-last-of-type(even) { text-decoration-line: overline underline; scroll-snap-align: center; }\n:required { border-start-start-radius: 25%; height:  -949.1618pc; border-block-start: thick; }\n:only-of-type { column-rule: hidden rgba(41% , 20%); border-spacing: 885.7072cm -420.4971rem; border-image-source: repeating-radial-gradient(closest-side at -626.8599pc 32% , currentcolor  , -363.9931vmin , rgb(-4901084388655104 / -8997824985300992) 721.4612in); }\ncaption { justify-content: space-around; border-right-color: coral; box-shadow: none; }\n:disabled { border-inline-end: medium; list-style-image: none; font-size: larger; visibility: visible; translate: none; }\n:disabled { hyphens: auto; color-adjust: economy; caption-side: inline-end; animation-play-state: running; }\n:nth-of-type(odd) { font-stretch: normal; animation-name: none; counter-set: none; }\n:only-of-type { overflow: visible; isolation: auto; }\n:lang(za) { border-top: hsl(4111180268306432 81% 37% ) medium; will-change: contents; justify-items: legacy; }\n:valid + ::after { column-rule-style: double; }\n:checked { animation-timing-function: step-end; column-span: all; border-right-color: rgb(51% , -2726191219867648); min-width: -651.2672vw; }\n:read-only { font: menu; transform: translateX(34%); }\n:right { border-left-style: outset; }\n:not( * #azpig ::uwivoke:ewumovecu  * | * #opbed ::viuga:pe ( space )) { object-fit: none; scroll-snap-align: end; }\n:optional { margin-block: 9%; inset: 64%; }\n\n}',
        "@viewport {\n  :disabled { margin-left: auto; widows: -21%; }\n:last-of-type { text-indent:  65% each-line; outline-color: currentcolor; border-inline-start-style: dotted; padding-top: -438.4553px; animation-duration: 537.1081s; }\n#olu { text-overflow: 'buwmi'; unicode-bidi: bidi-override; }\n::placeholder { scroll-snap-type: none; clip-path: url(egpa); flex-grow: 1023240625455104; font-kerning: none; scroll-padding-top: 57%; }\n[tabindex=vuj] { border-top-style: double; }\n:first { column-rule-width: medium; scroll-snap-align: end; border-collapse: separate; padding-inline-end: 105.64in; clip-path: none; }\n\n}",
        '@viewport {\n  :valid { tab-size: 826.4812cm; inset-block: 3.0326Q; }\n:valid { object-fit: fill; }\n:read-write { scroll-margin-bottom: -898.463vmin; text-decoration-line: none; }\n.dinbel { left: auto; }\n:enabled { margin-left: auto; animation-iteration-count: infinite; animation-play-state: running; scroll-padding-block-start: auto; filter: drop-shadow(44.4865vmax hsl(245.781grad 8% 85% )); }\n:checked { font-stretch: semi-expanded; padding-block-end: 13%; page-break-after: auto; }\n::selection { inset-block-end: auto; column-rule-width: 590.3724mm; box-sizing: content-box; font-weight: lighter; border: 925.2969cm; }\n::after { padding-block: 41%; background-color: rgba(-6189080085790720 , ); border-top-right-radius: 98.4533cm; }\n:required { order: 87%; }\n\n}',
        '@viewport {\n  :only-of-type { inset-block-start: auto; opacity: 979155629899776; font-variant-position: sub; page-break-inside: auto; background: fixed left  , hsl(407.3157deg , 47% , 1% , ); }\n:scope { scroll-margin-left: -53.0565mm; border-inline-color: hsla(-202.9905deg 62% 95% / 4%); border-width: thin; }\nobject { image-rendering: crisp-edges; shape-image-threshold: 709361055825920; order: 37%; border-image-width: -7735945746972672; transform-style: preserve-3d; }\n::marker { tab-size: 272.8072vw; }\n:valid { outline-width: thin; margin-block-end: 12%; grid-auto-rows: fit-content(82%); }\n::marker { font: small-caption; translate: 20% ; break-after: auto; border-radius: -245.4818ch ; }\n\n}',
        '@viewport {\n  :only-child { counter-increment: lubet ; break-inside: avoid-page; border-bottom: ThreeDShadow 470.1421pc inset; vertical-align: super; }\n:nth-child(5n+8 of ho | * [ * | mozoglu ] ::ekju ( rgb(96% / 9%) ):oru   | joro #atoduuc ::norer ( 14% / 84% ):ecwemu ( proximity )) { border-block: medium hsl(6851956031094784 , 82% , 23% , 99%); }\n\n}',
        "@viewport {\n  :root { flex-shrink: 3750259121455104; border-block: khaki 812.7088in; }\n:invalid ~ :left { align-self: stretch; grid-row: -77% tos / -20% ; }\n:last-of-type { border-block: outset thick rgb(8464584490876928 , -3194198123610112); text-decoration-style: solid; }\n:not( | * . ucite ::up ( min-content ):cuhocuna +  #nej ::cehul:jek ( 27% )) { border-bottom-width: thick; }\n[colspan=monokaivi] { border-image-width: -247.0733vh; }\n:valid { word-break: break-word; border-image-outset: 188.2614vh; flex-wrap: wrap; }\n::selection { scroll-padding-right: 6%; grid-row: auto ; border-bottom-width: thin; all: initial; block-size: auto; }\n:read-only { justify-content: safe right; list-style: none outside; flex-shrink: -4551371944624128; border-top: thick hsl(-4888336636313600 , 88% , 67% , 4%); filter: none; }\n.piemeamu ~ :nth-last-child(9n+8 ) { border-bottom-width: thin; animation-fill-mode: forwards; quotes: 'wuffob' 'simikis'; }\n:fullscreen { inset-block-end: 79%; text-orientation: upright; color: #860acc; }\n::backdrop { transition-delay: 592.9436ms; grid-auto-rows: fit-content(49%); scale: none; background-position: left 49%; }\n:fullscreen { border-left-style: groove; margin-inline: -316.8736cm; }\n\n}",
        '@viewport {\n  :last-child > :nth-last-of-type(5n+2) > :read-write { border-inline-width: 393.0029mm; font-style: oblique -52.0767rad; outline-color: invert; border-inline-color: #3139da; }\n:dir(ltr) { border-inline-end: -822.595px rgb(46% , ); border-left-color: Highlight; border-bottom-right-radius: 33%; overflow-y: hidden; animation-timing-function: linear; }\n:valid { max-height: min-content; border-block: hsla(-4019414974332928 87% 81% ) medium; margin-top: 972.514ex; }\n:not(:zem ::cadfoivi:duli ( single )   [  kuf ] ::dew:vetil) { margin-inline-end: 74%; }\n:nth-last-of-type(even) { margin-inline-start: 57%; border-bottom-right-radius: -432.4482mm; flex: content -2592330896900096 ; word-break: break-all; }\n:nth-of-type(odd) { align-items: normal; border-right-width: -269.2864ex; }\n:last-of-type { scroll-snap-stop: normal; }\n:enabled + :valid { background-clip: content-box; }\n::after { background-blend-mode: hard-light; }\n.uzamiz { tab-size: 64%; white-space: pre; hanging-punctuation: none; padding-top: 82%; top: auto; }\n:nth-child(even of  . gazwipo ::wojan:pem ( -261.5391mm )   [ ace | bod ] ::silaw ( 661.2389vh ):osofa ( none )) { place-content: space-evenly ; scroll-padding-right: 655.8818vh; pointer-events: visiblePainted; scroll-margin-inline-start: -672.6881vmax; border-image-width: 23%; }\n\n}',
        "@viewport {\n  :only-of-type { text-justify: inter-character; column-rule-color: InfoText; font-feature-settings: 'noiljis' ; }\n:left { border-start-end-radius: 799.1492mm; float: none; letter-spacing: normal; }\n::first-letter { mask-size: cover; border-block-start-width: thin; }\n::marker { max-height: fit-content; content: image(rtl url(inofoh) , rgba(4394545802379264 , )) ; }\n:default { padding-inline-start: 49%; text-align-last: center; counter-reset: devdopo -70%; }\n:last-of-type { font-stretch: extra-expanded; scrollbar-color: light; }\noptgroup { padding-block: 54%; padding-left: 198.0587mm; scroll-padding-bottom: auto; }\n::placeholder { counter-set: none; border-right-width: thin; font-variant-caps: petite-caps; caret-color: #274209; text-orientation: upright; }\n:left :only-child + :empty { page-break-after: verso; }\n:nth-last-of-type(odd) { margin: auto; }\n:read-write { text-transform: none; padding-inline: 15%; scale: -2261971244154880; mask-image: none; }\n:invalid { perspective-origin: bottom center; }\n:dir(rtl) ~ ::after || :active > ::after > ::first-line { table-layout: auto; inset-block-start: 182.5509Q; }\n:indeterminate { background-clip: content-box; content: normal; }\n\n}",
        '@viewport {\n  :target { mask-composite: subtract; }\n:indeterminate ~ :in-range { shape-outside: repeating-linear-gradient( , hsl(836.9095grad 59% 22% )  , -503.5471em , #7f9507 ); font-variant: normal; text-overflow: clip; }\n:focus { margin-inline: 264.5286ex; all: initial; orphans: 3%; border-inline-width: thick; }\n::placeholder { border-image:  30% / 499.921pc stretch; scroll-margin-inline-start: 796.1086mm; border-left-color: hsla(-926.9007grad 47% 84% / 6%); }\n:first { padding-inline-start: 55.2955pt; justify-content: space-around; font-optical-sizing: auto; list-style-position: outside; }\n:active ~ :first-of-type || ::backdrop { transition: 287.9991s none step-start 957.8629ms; }\n::after { tab-size: -184.031ch; line-height: normal; border-top-style: dotted; border-inline-start-style: groove; }\n:left { margin-top: -321.4575vh; }\n:nth-last-child(9n+7 of  [  | sutukufek ] ::cap:ebgutir ||  * . len ::tek:nuhu ( contain )) { border-color: rgb(1184926300897280 , ); word-break: break-word; grid-row: span 3% ; place-content: space-evenly space-around; }\n:default { min-width: fit-content; }\n:in-range { border-bottom-width: medium; text-emphasis-position: over left; animation-delay: 645.1678s; isolation: auto; scroll-padding: -451.8896cm; }\n:nth-child(even of :ba ( drag ) ::wig ( isolate ):sumij ( 42% )   #gaczeceh ::wohsul:odoge) { justify-self: normal; }\n:nth-of-type(odd) || * { hyphens: auto; margin-top: -331.5122Q; scale: none; border-block-start: thin hsla(196.5721grad , 46% , 24% , ); scroll-padding-block: auto; }\n:valid { padding-block: 27%; }\nnextid { flex: none; }\n:valid + ::first-line { border-collapse: separate; transition-delay: 381.1205ms; inset-inline: -826.5896px; transition-timing-function: steps(47% , start); resize: vertical; }\n:required { min-height: fit-content; width: available; text-emphasis-style: open dot; transform-style: preserve-3d; }\n\n}'
      ]
    );
  });

  describe('without a name', () => {
    it('should generate any at-rule', () => {
      expect(new CssAtRuleGenerator().take(10), 'to equal snapshot', [
        '@import url(wosalda)  ;',
        '@supports (padding-inline: 2%) and ((bagohrak none) or selector( #uj ::apli:cuval ( -973.4701vw ) ||  * . ho ::dolbaw:vo)) {\n  :invalid { border-left-style: double; margin-block: -937.3735vw; scroll-padding-right: 878.9979mm; }\n::cue(:nth-of-type(odd)) { column-span: none; margin-block: 41.6685ch; translate: none; scroll-padding-top: auto; place-self: normal unsafe right; }\n:enabled { left: -718.1516in; scroll-margin-inline-end: -669.4662cm; animation: infinite backwards 422.6839s 580.3511s ease alternate-reverse running epidako; column-span: all; }\n:right { min-height: 89%; list-style-position: inside; float: left; }\n::selection { scroll-snap-align: center; padding-top: 23%; scale: none; height:  -949.1618pc; }\n:checked ~ .nenvudsi { quotes: none; border-spacing: 885.7072cm -420.4971rem; border-image-source: repeating-radial-gradient(closest-side at -626.8599pc 32% , currentcolor  , -363.9931vmin , rgb(-4901084388655104 / -8997824985300992) 721.4612in); }\ncaption { justify-content: space-around; border-right-color: coral; box-shadow: none; }\n\n}',
        "@font-face {\n  src:local('howeju') ; unicode-range:U+0971-9fbc ; font-style:italic ; font-variant:normal ; font-weight:normal ; font-feature-settings:normal ; font-stretch:condensed ; font-family:vapiz ; font-variation-settings:'vas' -2348096507871232 ;\n}",
        '@font-face {\n  font-stretch:ultra-expanded ; font-style:normal ; unicode-range:U+c??? ;\n}',
        '@keyframes envewi {\n  22% {\n  min-width: -651.2672vw; padding: -226.5293pt;\n}\n}',
        "@viewport {\n  :out-of-range :fullscreen { border-block-start-style: dotted; text-transform: lowercase; text-combine-upright: digits ; border-spacing: 319.9681em 964.3367px; }\n:link { border-width: 992.5074cm; unicode-bidi: plaintext; list-style-image: none; }\n::cue(:checked) { break-before: avoid-page; padding-block-start: 85%; }\n::cue(::cue) { text-decoration-line: underline line-through blink overline; text-emphasis-position: left over; flex-flow: wrap; white-space: normal; }\n:enabled { column-count: auto; }\n:last-of-type { grid-area:  43% / auto; border-style: solid; column-span: none; place-self: normal last baseline; }\n:optional { margin-block: 9%; inset: 64%; }\n:empty { border-top-color: #f91738; widows: -21%; }\n:last-of-type { text-indent:  65% each-line; outline-color: currentcolor; border-inline-start-style: dotted; padding-top: -438.4553px; animation-duration: 537.1081s; }\n#olu { text-overflow: 'buwmi'; unicode-bidi: bidi-override; }\n::placeholder { scroll-snap-type: none; clip-path: url(egpa); flex-grow: 1023240625455104; font-kerning: none; scroll-padding-top: 57%; }\n[tabindex=vuj] { border-top-style: double; }\n:first { column-rule-width: medium; scroll-snap-align: end; border-collapse: separate; padding-inline-end: 105.64in; clip-path: none; }\n:in-range { border-top-width: thick; mask-mode: match-source; border-block: thick hidden; object-fit: fill; padding-block-start: 591.5854ch; }\n::cue(:first-of-type) { flex-shrink: 1420703647662080; }\n:invalid + :nth-last-of-type(odd) { column-width: -689.9168px; }\n::selection { scroll-padding-left: 3%; border-top-right-radius: -922.3306vmax; }\n\n}",
        "@font-feature-values 'kizef' {\n  @annotation { cugi:-18% ; }\n}",
        "@keyframes 'waumo' {\n  from {\n  scroll-margin-bottom: -202.3582in;\n}\n}",
        "@import 'haucmor'  ;",
        '@charset "Latin-greek-1" ;'
      ]);
    });
  });
});
