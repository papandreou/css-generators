const expect = require('./expect');
const chanceCache = require('chance-generators/lib/chanceCache');

const CssAtRuleGenerator = require('../lib/CssAtRuleGenerator');

describe('CssAtRuleGenerator', () => {
  beforeEach(() => chanceCache.clear());

  it('should generate @font-face', () => {
    expect(
      new CssAtRuleGenerator({ type: 'font-face' }).take(10)
    ).toEqualSnapshot([
      '@font-face {\n  font-weight:normal ; font-style:normal ; src:url(satacwuw) ; font-feature-settings:normal ;\n}',
      "@font-face {\n  font-style:normal ; src:local('ju'), url(do) format('pu'), local('sof') ;\n}",
      "@font-face {\n  font-family:'ve' ; font-style:italic ; font-stretch:expanded ; font-variation-settings:normal ; font-feature-settings:'bawha' off ;\n}",
      "@font-face {\n  font-variant:proportional-width character-variant(uhred) slashed-zero ordinal ornaments(fab) annotation(zejaaf) oldstyle-nums stylistic(asoojduv) no-discretionary-ligatures ; font-feature-settings:'dako' ; src:local(inla), local(wighibwic), url(gatih) format('idemis'), url(cih) format('opu') ;\n}",
      "@font-face {\n  font-variation-settings:'duj' -3278558025744384, 'jemateh' -8881960801796096, 'ril' -5006060721012736 ; font-family:ke ; font-stretch:16% ;\n}",
      "@font-face {\n  src:url(poh), url(jopibje) format('vapiz'), local('cojho'), local('upeaco'), local('gob') ; font-feature-settings:'vewi' -30% ; font-variant:none ;\n}",
      "@font-face {\n  src:local('ovakod'), url(irevaumi) format('uc'), local(ipaje), local(eviipuod), local(sajopbed) ;\n}",
      '@font-face {\n  font-feature-settings:normal ; font-variant:normal ; font-style:italic ;\n}',
      "@font-face {\n  src:local('tehi'), local(iwmoj), local(pufwi) ; font-variation-settings:normal ; unicode-range:U+926e-e6a4 ;\n}",
      '@font-face {\n  font-style:normal ; font-weight:7715901327540224 ;\n}'
    ]);
  });

  it('should generate @charset', () => {
    expect(
      new CssAtRuleGenerator({ type: 'charset' }).take(10)
    ).toEqualSnapshot([
      '@charset "DS_2089" ;',
      '@charset "EBCDIC-DK-NO-A" ;',
      '@charset "CP51932" ;',
      '@charset "BS_viewdata" ;',
      '@charset "IBM865" ;',
      '@charset "EBCDIC-AT-DE" ;',
      '@charset "HP-Math8" ;',
      '@charset "HP-Math8" ;',
      '@charset "PT" ;',
      '@charset "KZ-1048" ;'
    ]);
  });

  it('should generate @counter-style', () => {
    expect(
      new CssAtRuleGenerator({ type: 'counter-style' }).take(10)
    ).toEqualSnapshot([
      "@counter-style ofosid {\n  symbols:Ⓐ Ⓑ Ⓒ ; system:cyclic ; speak-as:auto ; negative:'ofaufjom' 'be' ; suffix:paint(celel) ;\n}",
      "@counter-style gemsibsof {\n  system:cyclic ; fallback:hir ; pad:219.9933pt ; range:auto ; suffix:'lef' ;\n}",
      '@counter-style kimri {\n  system:additive ; speak-as:sa ;\n}',
      "@counter-style uhlog {\n  speak-as:spell-out ; suffix:'uk' ; additive-symbols:-42% 'gor', ojduv 70%, 'le' 34%, 46% paint(rij) ; range:auto ; symbols:Ⓐ Ⓑ Ⓒ ; negative:'wighibwic' 'de' ;\n}",
      "@counter-style tih {\n  suffix:'sefuwaho' ; range:61%, -63%, 79%, infinite, infinite ; pad:614.8804cm ; system:fixed ; symbols:Ⓐ Ⓑ Ⓒ ; negative:'deg' ;\n}",
      '@counter-style bueh {\n  symbols:Ⓐ Ⓑ Ⓒ ;\n}',
      "@counter-style mifdej {\n  fallback:ugwijah ; symbols:Ⓐ Ⓑ Ⓒ ; additive-symbols:22% caku, piz 11%, 35% 'heajiupe', 'femwaser' -56%, 2% ta ;\n}",
      "@counter-style vej {\n  fallback:hepazpig ; pad:992.5074cm ; symbols:Ⓐ Ⓑ Ⓒ ; prefix:ivokewo ; additive-symbols:ipuod 57%, paint(du , normal) -43%, 10% paint(ugabel), -27% cross-fade(paint(ram) 26%), 95% iwmoj ; negative:'vivho' 'sataf' ;\n}",
      '@counter-style nuhijoow {\n  prefix:image(ltr url(wundevuj)) ; fallback:juh ; pad:85% ; speak-as:spell-out ;\n}',
      "@counter-style wem {\n  additive-symbols:cok 59% ; pad:780.0107vmin ; negative:'sa' ;\n}"
    ]);
  });

  it('should generate @document', () => {
    expect(
      new CssAtRuleGenerator({ type: 'document' }).take(10)
    ).toEqualSnapshot([
      "@document media-document('wosalda'), domain('satacwuw') {\n  cite { border-inline-end-style: groove; column-count: auto; inset-inline-start: -136.11ch; clip: auto; mask-origin: fill-box; }\n#lel > , { mask-size: 99%; margin-top: 4%; tab-size: 360.6151em; grid-auto-columns: 95%; }\n::placeholder { scroll-margin-top: -229.167in; animation: step-start; gap: 219.9933pt normal; }\n::first-letter || :hover { border-inline-end-style: groove; right: -149.6883pt; }\n:checked { margin-block-end: -937.3735vw; scroll-snap-align: center; grid-auto-columns: fit-content(789.6547vmin); }\n\n}",
      "@document media-document('dipakuj'), media-document('ene'), regexp('red') {\n  :valid { background-size: auto; }\n:in-range { font-language-override: normal; clip-path: url(gor); perspective: 542.5407Q; background-size: contain; }\n:fullscreen { border-block-start-width: thick; table-layout: fixed; mask-type: luminance; columns: -378.0354rem; }\n:first-child { perspective: 275.115in; text-decoration-thickness: from-font; grid-row-start: wus; page-break-after: left; }\n:dir(rtl) { hyphens: none; inset-inline-start: auto; }\n:in-range { animation-duration: -121.327ms; }\n\n}",
      "@document url(nenvudsi), domain('husefuw') {\n  :valid { min-height: 742.9212pc; scroll-margin-right: -563.1192em; }\n:indeterminate { text-decoration-line: spelling-error; column-span: all; border-bottom-color: GrayText; column-rule-style: outset; border-block-start-color: hsl(-145.7844deg 82% 35% / -8881960801796096); }\n:left :not(. dej ::kerokcu:howeju [ | je $ = 'riumso' ] ::holip ( 27% ):dovki) { padding-block-start: 716.7176px; }\n:first-child { border-right-color: rgb(51% , -2726191219867648); object-fit: fill; border-inline-style: outset; padding-block: -226.5293pt; }\n::marker { border-color: gainsboro; place-content: normal; text-underline-offset: from-font; text-decoration: wavy grammar-error from-font; inset-inline: 26%; }\n:dir(rtl) { unicode-bidi: plaintext; }\n:nth-child(odd of wo:movecuaw ( paint(du , normal) ) ::ri:ugabel ( hidden ) + * | * . dijjeg ::miwtitpo ( inactive ):hojizo) { border-inline-width: thick; }\n::marker { transition-duration: -440.8793s; text-decoration-line: underline line-through overline; font-variant-ligatures: none; }\n::placeholder { translate: 7%; column-fill: balance; border-inline-start: -254.6263px hsla(392.0596turn , 57% , 7%) dotted; }\n:nth-of-type(odd) { flex: none; border-top-width: medium; clip-path: none; column-span: all; scroll-snap-type: x proximity; }\n:fullscreen { clip-path: url(agtucbip); scroll-margin-inline-end: -611.4521Q; background-repeat: space; }\n:target { text-emphasis: open triangle rgb(-619730931023872); }\n:not(* | ba:demzef ::cugi ( right ):waumo ( hsla(-1099393134493696 75% 7%) ):wocafig ::waoho:vikwib ( center top )) { border-bottom-color: rgb(-6916220410396672); background: none padding-box local hsla(-636379948122112 43% 65%) none padding-box center center; animation: obututven -6692342744481792 running alternate-reverse 91.2336s step-end; font-family: fantasy, sans-serif, 'de', 'vec', sans-serif; }\n\n}",
      "@document regexp('kujivo'), url-prefix('iboaz') {\n  :not(. anumajzi ::rugvozec:pitkedeb | * . oru ::tade:ves ( left under )) { hyphens: auto; background-color: InfoBackground; background-clip: padding-box; place-content: unsafe flex-start; vertical-align: sub; }\n:read-only { scroll-padding-right: 10%; scroll-padding-right: auto; font-variant-east-asian: jis90; scroll-padding-bottom: 14%; }\n[readonly=un] { table-layout: auto; text-decoration-color: currentcolor; }\n:dir(rtl) { word-break: keep-all; resize: horizontal; flex-wrap: wrap-reverse; border-block: khaki 812.7088in; border-block-start-style: solid; }\n:last-of-type { align-self: stretch; grid-row-end: -77% tos; }\n:out-of-range { border-style: outset; font-size: larger; caret-color: auto; }\n\n}",
      "@document domain('ut'), url(rahbiwoce), domain('cidgohup'), media-document('isoh'), regexp('ikdoja') {\n  :only-of-type { font-feature-settings: normal; border-spacing: 167.3122ex; flex: content; }\n:read-only { justify-self: normal; }\n:first { scroll-padding-block: 27%; border-image-width: 7%; scroll-padding-bottom: 42%; }\n:required { mask-position: right 87% bottom -670.3315ch; font-style: italic; scroll-margin: 621.1067pt; }\n\n}",
      "@document regexp('so'), url-prefix('evicib'), domain('ba'), url(amuuwizoz), media-document('hegaog') {\n  :checked { text-decoration-color: palevioletred; mask-size: -772.8849ch; }\n:out-of-range { inset-inline-end: 78%; scroll-padding-inline-end: 704.363vmax; list-style: outside 'pazo' none; }\n:only-of-type { scroll-margin-right: -574.0717vmin; border-collapse: separate; all: revert; display: none; }\n:only-of-type { list-style-image: url(wem); inset-block-start: 79%; }\n::first-letter { color: #860acc; tab-size: 899.0413vh; }\n:lang(uk) > ::after { scrollbar-color: dark; background-position: left 49%; direction: ltr; }\n:checked { margin-inline-end: -316.8736cm; justify-self: auto; grid-column-end: auto; margin-inline-start: -199.399em; }\n:read-only { border-inline-end-color: rgba(34%); text-emphasis-position: left under; visibility: visible; mask-composite: add; }\n:default { scroll-padding-bottom: auto; }\n:first-of-type { direction: ltr; animation-iteration-count: infinite; }\n:not([ lam ] ::baporpu:caetzi | holilzab #wo ::zibelre ( none ):gakufki) { border-start-start-radius: 34%; }\n:nth-last-of-type(even) { empty-cells: hide; object-position: center; margin-inline-start: 74%; margin-left: 75%; }\n:nth-last-of-type(even) { border-bottom-right-radius: -432.4482mm; flex-basis: max-content; mask-mode: luminance; }\n\n}",
      "@document url-prefix('kowba'), url-prefix('hi') {\n  ::backdrop { border-block-style: dotted; }\n:valid { background-clip: content-box; }\n::after { background-blend-mode: hard-light; }\n.uzamiz { table-layout: auto; scroll-padding-block-start: -18.5024em; page-break-before: right; scroll-padding-block-end: 56%; justify-self: stretch; }\n\n}",
      "@document url-prefix('gazwipo'), url-prefix('wojan'), domain('pem') {\n  * { counter-increment: ciz; column-rule-width: medium; }\n:valid { border-top-width: 363.0055ch; }\n:root { mask: view-box match-source no-repeat subtract; }\n::first-line ~ :required { transform-box: border-box; border-inline-end-color: hsla(482.2413rad 58% 4% / 14%); scroll-padding-inline-start: 20%; scroll-margin-inline-end: -672.6881vmax; border-inline: rgba(64% , 36%); }\n:first { margin-right: 68%; scroll-padding-block-start: auto; gap: 799.3349pc normal; left: auto; font-weight: bolder; }\n:nth-last-child(4n+9) { justify-items: right; border-spacing: 248.476px; }\n:in-range { content: none; perspective: none; padding-block-end: -666.5385vh; text-decoration-color: #7ed415; justify-items: legacy; }\n::cue(:target) { border-image-outset: -3391713796161536; padding-inline-end: 557.1439vh; border-end-end-radius: -590.9109px; padding-right: 49%; text-decoration: solid overline underline blink line-through from-font currentcolor; }\n:not(. wo ::son ( 25% ):guwse ( inline-axis ):sam ( none ) ::inu:wowwo) { scrollbar-width: thin; }\n:focus { background-repeat: repeat-y; block-size: fit-content; border-block-end-width: thick; scroll-padding-top: 45%; }\n:dir(rtl) + ::after :active ~ ::after ~ ::first-line { text-align-last: end; inset-inline: 182.5509Q; }\n:hover { background-clip: content-box; counter-increment: bojmiewu; }\n\n}",
      "@document url-prefix('olibi'), regexp('gi'), domain('bu') {\n  :fullscreen { margin-inline-end: 264.5286ex; all: initial; outline-color: invert; border-inline-width: thick; }\n::placeholder { border-image:  30% / 499.921pc stretch; scroll-margin-inline-end: 796.1086mm; border-left-color: hsla(-926.9007grad 47% 84% / 6%); }\n:enabled { padding-right: 55.2955pt; justify-self: stretch; grid-template-columns: repeat(77% , 723.5713cm [ jetikbud ]) [ vibhegvi ]; animation-delay: 190.098ms; }\n:first-of-type { margin-block-end: 774.921Q; list-style-position: inside; page-break-after: auto; scroll-margin-right: -513.6556vw; }\n:required { shape-margin: 83%; translate: none; transform-style: preserve-3d; border-end-end-radius: -187.2154in; }\n:first-child { border-block-style: none; min-height: 471.8092ex; scroll-snap-type: none; border-bottom-left-radius: 752.8882px; mix-blend-mode: color-dodge; }\n:read-write { text-overflow: 'kelen'; animation-name: 'zinu', none; border-right-color: WindowText; row-gap: -771.5242vmin; margin-block: 99%; }\n\n}",
      "@document domain('miperop'), domain('fo'), regexp('fiwve'), media-document('oma'), regexp('jamol') {\n  :required { border-block-start: -472.6324vmin; box-shadow: mistyrose -11.4523em inset; }\n::first-letter { font-variant-alternates: normal; font: small-caption; inset-inline: 4%; empty-cells: show; transition-timing-function: step-start; }\n[hidden=hakjij] { padding-top: 30%; mask-origin: stroke-box; transition-delay: -47.8992ms; outline-color: invert; transform: none; }\n:required { border-right: medium; bottom: 190.1559vmax; background-blend-mode: saturation; }\n:last-of-type { mask: repeat-y stroke-box; font-synthesis: none; padding-inline-end: 60%; font-variant-position: sub; border-top-left-radius: 638.2047cm; }\n:target { padding-block-end: 27%; }\nnextid { flex: none; }\n, { text-shadow: 900.4747rem ; inset-inline-end: -826.5896px; transition-property: asovovhul; object-fit: contain; padding-block-end: 5%; }\n::marker { animation-timing-function: linear; padding-inline-end: 93%; z-index: auto; list-style-position: outside; }\n:last-child { column-rule: medium; perspective: none; border-inline-start-color: Background; visibility: hidden; transform-style: preserve-3d; }\n:last-child { tab-size: 69%; grid-auto-rows: min-content; scroll-padding-inline-start: 300.3347px; flex-direction: row; }\n:nth-child(5n+1 of * . ciamape ::ikohib ( rtl ):if ( subgrid repeat(100% , [ co ]) / auto-flow  ) | *:merohac ::juwe:bu ( auto )) { border-block-start-color: hsla(-751.1249deg 96% 95% / 26%); border-block-style: double; font-variant: jis78 ruby annotation(ge) character-variant(gu) stacked-fractions ornaments(acufuonu) tabular-nums historical-ligatures swash(po) full-width no-common-ligatures oldstyle-nums contextual styleset(nepzisu) historical-forms slashed-zero ordinal no-discretionary-ligatures; }\n::backdrop { grid-column: span -5% / auto; }\n::placeholder { tab-size: 62%; columns: auto -437.2181pc; border-top-style: dashed; align-content: last baseline; background-attachment: fixed; }\n:link { translate: none; }\n:out-of-range + ::cue { shape-image-threshold: -87432485666816; text-decoration-line: line-through blink overline; direction: rtl; overflow-wrap: break-word; margin-block: auto; }\n:empty { text-decoration-color: #cc241c; text-align: center; border-top-left-radius: 15%; text-align: end; }\n\n}"
    ]);
  });

  it('should generate @font-feature-values', () => {
    expect(
      new CssAtRuleGenerator({ type: 'font-feature-values' }).take(10)
    ).toEqualSnapshot([
      "@font-feature-values 'gotsalda' {\n  @character-variant { satacwuw:-58% ; }\n}",
      "@font-feature-values 'goh' {\n  @swash { maro:-20% ; }\n}",
      "@font-feature-values 'uj' {\n  @historical-forms { apli:97% ; }\n}",
      '@font-feature-values enfic {\n  @stylistic { unukaho:-52% ; }\n}',
      "@font-feature-values 'tibawha' {\n  @swash { miribu:69% ; }\n}",
      '@font-feature-values muwwuh {\n  @stylistic { pakuj:50% ; }\n}',
      "@font-feature-values 'sezsi' {\n  @historical-forms { ad:-86% ; }\n}",
      "@font-feature-values 'zejaaf' {\n  @swash { asoojduv:70% ; }\n}",
      '@font-feature-values dako {\n  @styleset { sogrij:-76% ; }\n}',
      '@font-feature-values zonzebi {\n  @swash { biga:80% ; }\n}'
    ]);
  });

  it('should generate @import', () => {
    expect(
      new CssAtRuleGenerator({ type: 'import' }).take(10)
    ).toEqualSnapshot([
      "@import 'gotsalda' ;",
      '@import url(fopcu) not uf and not (be) ;',
      '@import url(fauj) ;',
      "@import 'taj' not sof ;",
      "@import 'ozi' (not (((ebik:-635.5279Q) and (ginbu:6981775811149825/4051025054924801)) or (sowdipa))) and (zeenejom:-718.1516fr) ;",
      '@import url(bu) ;',
      '@import url(jaaf) only cujduvtih ;',
      "@import 'vewip' ;",
      '@import url(lawus) pawicna ;',
      "@import 'nenvudsi' cih and not (2662831533064193/5705193886842881 < afmuret < 3209245650583553/2864320614498305) ;"
    ]);
  });

  it('should generate @keyframes', () => {
    expect(
      new CssAtRuleGenerator({ type: 'keyframes' }).take(10)
    ).toEqualSnapshot([
      '@keyframes gotsalda {\n  to {\n  content: none; border-end-end-radius: 65%; animation-delay: -887.1769s; page-break-after: recto; transform-box: border-box;\n}\n}',
      '@keyframes goh {\n  to {\n  align-items: stretch; animation-direction: reverse; inset-inline-start: 40%;\n}\n}',
      '@keyframes uj {\n  from {\n  border-block-width: thick; mask-size: 99%; margin-top: 4%;\n}\n}',
      "@keyframes 'ficow' {\n  56% {\n  font-family: 'hir', bawha; outline: #9154cf -937.3735vw ridge; grid-auto-columns: fit-content(789.6547vmin); mask-clip: no-clip, margin-box, stroke-box, view-box; column-span: all;\n}\n}",
      '@keyframes ruluhred {\n  from {\n  border-inline: thick; font-variant-caps: unicase; font-language-override: normal; clip-path: url(gor); perspective: 542.5407Q;\n}\n}',
      '@keyframes taevoka {\n  from {\n  column-rule: medium groove hsl(-55.5702grad , 12% , 98% , 76%); page-break-after: left;\n}\n}',
      '@keyframes pawicna {\n  from {\n  text-emphasis-position: right under;\n}\n}',
      "@keyframes 'fenrohu' {\n  from {\n  clip: auto; border-image-width: auto; top: 81%;\n}\n}",
      '@keyframes ilhak {\n  89% {\n  column-span: all; border-bottom-color: GrayText; column-rule-style: outset;\n}\n}',
      '@keyframes ti {\n  from {\n  empty-cells: hide; column-fill: auto; border-inline: dotted medium; border-bottom-color: hsl(7978751946129408 16% 32%); inset-inline: 71%;\n}\n}'
    ]);
  });

  it('should generate @media', () => {
    expect(new CssAtRuleGenerator({ type: 'media' }).take(10)).toEqualSnapshot([
      '@media (sidfanu:202.23dpi) {\n  :optional { background-clip: content-box; }\n:required { transform-box: border-box; -webkit-line-clamp: none; word-wrap: normal; mask-repeat: repeat-x; mask-origin: stroke-box; }\niframe { clip: auto; }\n:nth-of-type(even) { background: padding-box right / contain repeat-x rgb(7965998619557888 , 81%) fixed left border-box; }\n:read-only { gap: 219.9933pt normal; border-inline-style: outset; }\n:hover { border-inline-end-style: groove; right: -149.6883pt; }\n:checked { margin-block-end: -937.3735vw; scroll-snap-align: center; grid-auto-columns: fit-content(789.6547vmin); }\n:nth-last-of-type(odd) { column-width: 140.888em; inset-inline-end: 922.3441in; scroll-snap-align: start; position: relative; left: auto; }\n:nth-last-of-type(even) { caption-side: block-end; letter-spacing: normal; border-end-end-radius: 604.394em; background-size: auto; font-variant-caps: unicase; }\n:hover { clip-path: url(gor); }\n:required { scrollbar-width: thin; background-size: contain; flex: auto; mask-type: luminance; }\n:first-child { background-origin: padding-box; }\n:first { column-span: all; perspective: 275.115in; text-decoration-thickness: from-font; grid-row-start: wus; }\n:required { border-style: ridge; border-top-width: thin; animation-timing-function: ease-in-out; }\n:in-range { animation-duration: -121.327ms; }\n\n}',
      '@media not (riide) {\n  :indeterminate { right: -542.4037vw; block-size: max-content; clip: auto; }\n::before ::first-line { scroll-margin-top: -408.7326Q; border-block-start: hidden hsla(78.6845grad , 81% , 12% , -3278558025744384) thick; border-block-start-color: hsl(-145.7844deg 82% 35% / -8881960801796096); border-inline: dotted medium; }\n:empty ~ :first-of-type { transform-origin: left; border-right-color: #8edfc5; }\n:read-write { flex-basis: content; visibility: visible; translate: none; }\n:disabled { image-orientation: flip; border-image: stretch; box-shadow:  -933.8986in ; text-orientation: upright; }\n:dir(rtl) { justify-content: space-around; }\n::slotted(heajiupe | dovki #envewi ::ta ( round ):pufoj ( -581.8568vmin )) { text-decoration: wavy grammar-error from-font; inset-inline: 26%; border-top-color: AppWorkspace; }\n::placeholder { list-style-type: none; text-decoration-line: spelling-error; border-inline-start: medium currentcolor; text-emphasis-position: right under; text-decoration-thickness: from-font; }\n::backdrop { transform: none; }\n:target { outline-style: double; align-self: normal; border-block-end-style: outset; outline-color: invert; align-content: baseline; }\n:first { grid-template-rows: repeat(100% , 1%) repeat(auto-fill , minmax(65% , 85%) [ sipe ]) [ hi ] repeat(98% , minmax(91% , max-content)) [ tiref ]; border-start-end-radius: 50%; caption-side: block-end; }\n.caznuhijo { transition-duration: 856.6372ms; }\n:in-range { unicode-bidi: bidi-override; translate: 7%; column-fill: balance; }\n\n}',
      "@media ((not (((go > = fejuhera > = jetag)) or (patofcok))) and (kajdinbel:768217437962240)) {\n  :enabled { margin-right: auto; animation-iteration-count: infinite; animation-play-state: running; scroll-padding-bottom: auto; flex: 400698839662592 4863771507949568; }\n:empty { unicode-bidi: bidi-override; grid-column: auto / auto; }\n:active { font-style: italic; padding-bottom: 13%; page-break-inside: auto; }\n::selection { inset-block-start: auto; column-span: none; scroll-margin-inline-start: -202.3582in; font-variant-position: sub; pointer-events: auto; }\n:disabled { border-inline-end-style: outset; }\n[colspan=vicod] { border-top-right-radius: 98.4533cm; padding-right: 320.3948vw; break-inside: avoid-column; }\n::placeholder { place-items: first baseline legacy; font-variant-alternates: normal; border-top-left-radius: 35%; }\n:root frameset ~ , + #ku { padding-inline: -51.6523ch; border-block-end-color: currentcolor; height: fit-content; grid-row-start: mo; font-optical-sizing: auto; }\n:nth-of-type(odd) { text-decoration-thickness: auto; bottom: 1%; max-height: fill-available; inline-size: max-content; }\n::backdrop { orphans: 37%; border-image-width: -7735945746972672; transform-style: preserve-3d; }\n::marker { text-align: center; }\n:only-of-type { scroll-margin-left: 150.9484rem; font-feature-settings: 'nuawo'; scroll-padding-block-end: 91%; border-left-style: hidden; break-after: auto; }\n:checked { flex-wrap: nowrap; }\n#vec { column-rule-style: dashed; scroll-snap-stop: always; animation-direction: reverse; scroll-padding-block: auto; }\n:empty { border-bottom: ThreeDShadow 470.1421pc inset; vertical-align: super; line-height: normal; }\n:in-range { margin-block-end: auto; margin-bottom: auto; perspective-origin: left; border-top-right-radius: 58%; }\n:first-of-type { top: 86%; border-style: solid; overflow-wrap: anywhere; place-items: center; text-indent: hanging  -404.7297vmin; }\n, { background-blend-mode: normal; transition-timing-function: steps(-82%); }\n:first-child { transition-delay: 353.5398s; grid-template-columns: repeat(9% , 204.8819in [ zuzodol ]) [ rak ] repeat(auto-fit , [ wafos ] minmax(max-content , 10%) [ we ]) minmax(auto , 14%); inset-block-end: -533.5439vw; margin-inline-end: 87%; flex-grow: 6851956031094784; }\n:valid { transition: -247.4808s -832.9986ms step-end ihmi; border-top-style: none; }\n\n}",
      '@media (zatossez:-250.2588mm) and (not (ut)) {\n  ::selection { list-style-position: inside; column-span: all; backface-visibility: hidden; text-underline-offset: 838.2315cm; border-top-style: double; }\n\n}',
      '@media not tejiz and (cuhocuna) {\n  :first-of-type { border-inline-end: solid; font-feature-settings: normal; }\n:default { box-shadow: none; flex: content; padding-block-start: 72.1927in; }\n:first { scroll-padding-block: 27%; border-image-width: 7%; scroll-padding-bottom: 42%; }\n:required { mask-position: right 87% bottom -670.3315ch; font-style: italic; scroll-margin: 621.1067pt; }\n::slotted(lezenu #maba ::amuuwizoz:hegaog ( -542.7144vmin )) { right: 4%; filter: none; border-block-start-width: 343.1464pt; inset-inline-end: 78%; }\n:visited { column-gap: 55%; vertical-align: middle; border-block-style: inset; }\n:target { margin-right: -39.9081ch; font-variant-alternates: swash(ujsok) character-variant(dulim) ornaments(ikerur) annotation(fiwpogna) stylistic(pehtika) historical-forms; justify-self: auto; }\n:lang(ce) { border-image-outset: -722.3457rem; min-width: 18%; padding-block-start: -176.6776vmin; }\n::before { inset-block-start: auto; visibility: visible; mask-composite: add; }\n:default { scroll-padding-bottom: auto; }\n:first-of-type { direction: ltr; animation-iteration-count: infinite; }\n:not([ lam ] ::baporpu:caetzi | holilzab #wo ::zibelre ( none ):gakufki) { border-start-start-radius: 34%; }\n:nth-last-of-type(even) { empty-cells: hide; object-position: center; margin-inline-start: 74%; margin-left: 75%; }\n\n}',
      '@media lelu and (uhoga:-4947964376121344) and ((((not ((not (bir > 3583564618661889/5188132494376961))))) and (5711862532407296 > = fo > = 8371074718760961/6471287759175681)) and (jugaz)) {\n  :read-write { border-inline-start-width: medium; place-content: normal normal; padding-inline-end: 77%; }\n:enabled { margin-inline-end: 15%; }\n::first-line { column-rule-width: medium; margin-top: -261.5391mm; grid-auto-rows: min-content; }\n* { word-spacing: normal; column-rule-width: medium; scroll-padding: auto; }\n:disabled { overflow-x: visible; }\n:root { mask: view-box match-source no-repeat subtract; }\n::first-line ~ :required { transform-box: border-box; border-inline-end-color: hsla(482.2413rad 58% 4% / 14%); scroll-padding-inline-start: 20%; scroll-margin-inline-end: -672.6881vmax; border-inline: rgba(64% , 36%); }\n\n}',
      '@media (niriljis) {\n  :left { border-start-end-radius: 799.1492mm; font: menu; line-break: auto; }\n::first-letter { max-height: max-content; border-bottom: fuchsia medium; }\n:target || ::before > :only-child { justify-items: legacy; text-emphasis-color: #c9e181; z-index: auto; }\n:root { padding-inline-end: 557.1439vh; border-end-end-radius: -590.9109px; }\n:read-write { hyphens: auto; resize: horizontal; border-block-end-width: thick; justify-self: auto; }\n:focus { grid-column: auto / ralmo; scrollbar-width: none; all: unset; mask-clip: no-clip, no-clip, no-clip, stroke-box; cursor: url(uwsemi) grab; }\n:nth-of-type(10n+6) { inset: 222.9085ex; }\n.sucorobop { scrollbar-width: thin; }\n:focus { background-repeat: repeat-y; block-size: fit-content; border-block-end-width: thick; scroll-padding-top: 45%; }\n\n}',
      "@media not (((not (2805240552226817/4673277792354305 = laket)))) {\n  noembed { border-block-start-width: thin; font-synthesis: style weight; }\n:first-of-type { direction: ltr; place-items: self-end; animation-name: si, none, none; }\n#lojofgo { border-inline-width: thick; transition-timing-function: ease; list-style-position: inside; }\n::backdrop { justify-self: left; }\n:enabled { column-gap: normal; font-optical-sizing: none; font-variant-east-asian: normal; }\n:target { display:   list-item; grid-row-start: 55% span; padding-right: 55.2955pt; justify-self: stretch; grid-template-columns: repeat(77% , 723.5713cm [ jetikbud ]) [ vibhegvi ]; }\n.kogup { border-style: ridge; border-block-end-style: inset; border-top-color: ThreeDDarkShadow; }\n:nth-of-type(odd) { scroll-padding-inline-end: 888.8195rem; border-end-end-radius: -187.2154in; column-span: all; border-block-style: none; min-height: 471.8092ex; }\n::after { border-bottom-left-radius: 752.8882px; }\n:only-of-type { padding-inline: 91%; scroll-padding-block-start: -328.2683ex; scroll-padding-inline: auto; }\n:fullscreen { animation-name: 'zinu', none; border-right-color: WindowText; row-gap: -771.5242vmin; }\n:nth-child(even of | bizi [ fo ^ = ifo ] ::oma ( collapse ):ri + * #fe ::wig ( space-evenly ):ovi) { font: small-caption; inset-inline: 4%; empty-cells: show; }\n::placeholder { border-inline-end-style: none; border-block-width: medium; scrollbar-width: auto; background-position: -125.6132mm 72%; }\n:enabled { margin-block: auto; grid-template: [ wijajan ] repeat(6% , [ sajzic ] minmax(-296.9197rem , min-content)) [ nigacboz ] repeat(auto-fill , minmax(-278.0522in , 92%) [ ori ]) [ ru ] repeat(76% , [ zostuz ] 49% [ ubu ]) [ wi ] / subgrid [ nuhdo ]; perspective: none; border-inline-start-color: Background; }\n::selection { transform-style: preserve-3d; grid-row-start: rubon -27%; border-start-end-radius: 12%; }\n:last-child { text-decoration-style: dashed; }\n\n}",
      '@media manam and (pukiginu:191577882361857/2139418001409) {\n  :active { font: status-bar; touch-action: manipulation; background-repeat: repeat; }\n:fullscreen { scrollbar-color: auto; }\n:indeterminate { grid-template-areas: none; }\n:only-child { text-combine-upright: none; will-change: auto; scrollbar-color: auto; }\n:in-range { font-variant-caps: petite-caps; place-items: baseline; }\n:last-child + :fullscreen { clear: inline-end; color: darksalmon; }\n:nth-last-of-type(3n+1) { word-break: normal; font-variant-ligatures: normal; font: icon; overflow-wrap: normal; border-right-color: WindowFrame; }\n:target { border-width: 177.1085pc; will-change: nupfozhi; transform-origin: center right -759.3225ex; background: space left 93% bottom -479.5333mm / contain fixed border-box lightslategrey repeat-x; }\n:nth-last-of-type(odd) { tab-size: -9%; text-decoration: wavy none; transition-property: kow; }\n:nth-child(odd) { font-stretch: extra-condensed; flex-grow: -8915647576670208; }\n:disabled { page-break-before: auto; image-orientation: -837.9076turn; border-right-color: rgb(90%); word-wrap: break-word; }\n* { text-decoration-line: line-through blink overline; direction: rtl; overflow-wrap: break-word; }\n:nth-child(odd) { text-decoration-color: #cc241c; text-align: center; border-top-left-radius: 15%; text-align: end; }\n:read-write { scroll-padding-right: auto; padding-block-start: 68%; }\n:only-child + :read-only { border-inline-start: WindowFrame; text-combine-upright: all; animation-fill-mode: both; scroll-padding-inline: auto; }\n:visited ~ :first-of-type { pointer-events: all; border-image-source: none; }\n:visited { scroll-padding-inline-end: 26%; align-items: normal; clear: none; }\n:only-child { width: max-content; min-block-size: -480.3929mm; }\n\n}',
      '@media zacza and (265.2438dppx > fosohwo) and ((taev) or (4016835303309313/6752263383023617 < = zeb < 5791862317121536)) {\n  :focus { scroll-padding-block-end: 366.5908ch; grid-area: auto / okaed; isolation: isolate; }\n:visited { color: rgba(-7523154368921600 , 23%); order: -74%; break-after: avoid-region; transition-delay: 926.4734ms; }\n.owituk { break-after: left; will-change: auto; font-style: normal; text-emphasis-color: darksalmon; }\n:right { border-left: orange; flex-flow: wrap column; }\n::selection { border-inline-end-width: 737.2464cm; }\n:scope { scrollbar-width: thin; }\n::after { rotate: none; max-height: fit-content; border-bottom-style: dotted; }\n\n}'
    ]);
  });

  it('should generate @namespace', () => {
    expect(
      new CssAtRuleGenerator({ type: 'namespace' }).take(10)
    ).toEqualSnapshot([
      '@namespace url(wosalda) ;',
      '@namespace url(fopcu) ;',
      "@namespace gafgohrak 'ted' ;",
      "@namespace 'hiapli' ;",
      "@namespace cuval 'ozi' ;",
      "@namespace bave 'tibawha' ;",
      '@namespace miribu url(okonokan) ;',
      '@namespace url(kuj) ;',
      '@namespace ene url(red) ;',
      '@namespace url(bu) ;'
    ]);
  });

  it('should generate @page', () => {
    expect(new CssAtRuleGenerator({ type: 'page' }).take(10)).toEqualSnapshot([
      '@page {\n  @right-bottom { perspective-origin: top -688.011cm left 732.3523mm; } @top-center { opacity: -7990978635890688; vertical-align: bottom; scroll-padding-inline-end: -998.4425em; word-wrap: normal; } @top-right-corner { inset-inline-start: -136.11ch; clip: auto; mask-origin: fill-box; border-color: rgb(8534420776550400); }\n}',
      "@page pu:first {\n  ; @left-top { grid-auto-columns: 95%; } @bottom-right-corner { font-family: 'hir', bawha; outline: #9154cf -937.3735vw ridge; grid-auto-columns: fit-content(789.6547vmin); mask-clip: no-clip, margin-box, stroke-box, view-box; column-span: all; } box-sizing: border-box ; @bottom-left-corner { caption-side: block-end; letter-spacing: normal; border-end-end-radius: 604.394em; background-size: auto; font-variant-caps: unicase; }\n}",
      '@page {\n  border-inline-start-width: medium ; @left-bottom { mask-image: none; text-underline-position: auto; opacity: 7475248958013440; table-layout: fixed; } @bottom-center { border-block-end: dashed; outline-style: auto; } @left-middle { min-inline-size: 89%; margin: 38%; border-bottom-color: Scrollbar; } @left-bottom { margin: 541.9344ex; hyphens: none; inset-inline-start: auto; font-variant-ligatures: normal; }\n}',
      '@page {\n  min-inline-size: max-content\n}',
      "@page fenrohu:left {\n  @top-right-corner { border-image-width: auto; top: 81%; color: chartreuse; text-align-last: left; } @top-right { font-variant: annotation(mifdej) styleset(fef) stacked-fractions no-historical-ligatures simplified historical-forms stylistic(cuug) all-small-caps no-discretionary-ligatures slashed-zero ruby ordinal contextual no-common-ligatures proportional-nums lining-nums character-variant(ben) proportional-width; } @bottom-left { animation-name: none, 'fil'; } list-style-image: url(cojho) ; ; @left-top { justify-self: right; scroll-padding-left: auto; } border-inline-end-width: medium\n}",
      "@page har:first {\n  @top-right { object-fit: fill; border-inline-style: outset; } @bottom-left { inset-inline: auto; scroll-padding-right: auto; } @bottom-left-corner { border-block-start-width: 849.3873px; text-decoration: wavy grammar-error from-font; inset-inline: 26%; border-top-color: AppWorkspace; } @right-middle { text-emphasis-style: 'kewo'; scroll-snap-stop: always; shape-margin: 40%; } @right-middle { shape-image-threshold: 7847702435987456; border-image-width: auto; text-emphasis-style: 'becvub'; caret-color: auto; } grid-template-rows: repeat(100% , 1%) repeat(auto-fill , minmax(65% , 85%) [ sipe ]) [ hi ] repeat(98% , minmax(91% , max-content)) [ tiref ]\n}",
      '@page:right {\n  @top-left-corner { object-fit: fill; border-inline-width: thick; transform-origin: bottom; break-inside: avoid-region; } @bottom-left-corner { animation: la 702.2734ms running forwards infinite ease-out reverse 872.3096s; padding-block-start: 57%; background-repeat: repeat-x; border-left-style: groove; } @right-bottom { border-color: hsl(6798148865359872 , 32% , 74% , 13%); padding-inline: 36%; } @top-right-corner { scroll-padding: auto; scroll-padding: auto; } @bottom-right-corner { border-block: thick hidden; object-position: left bottom; text-decoration-thickness: from-font; animation-fill-mode: forwards; margin-inline: -123.0518px; } @top-left-corner { grid-column-start: auto; letter-spacing: -426.9175vmax; } @right-top { border-top-right-radius: -922.3306vmax; } ; ; @left-bottom { border-right: inset -611.24pt hsla(274.8598deg , 73% , 13% , 52%); padding-right: -917.865vh; }\n}',
      '@page {\n  @top-left { animation-duration: -631.3327s; border-block: solid rgb(92%) thin; } ; border-inline-end-style: groove ; transition-duration: 33.3925s ; @bottom-left { perspective: none; background: fixed left hsl(407.3157deg , 47% , 1%); row-gap: normal; scroll-margin-top: -53.0565mm; }\n}',
      "@page:left {\n  @right-bottom { text-decoration-thickness: auto; bottom: 1%; max-height: fill-available; inline-size: max-content; } @bottom-right { overflow-y: visible; mask-repeat: repeat-x; transform-style: preserve-3d; transform-style: flat; } @bottom-right-corner { transform-box: view-box; margin-bottom: auto; font-feature-settings: 'nuawo'; scroll-padding-block-end: 91%; }\n}",
      '@page {\n  \n}'
    ]);
  });

  it('should generate @supports', () => {
    expect(
      new CssAtRuleGenerator({ type: 'supports' }).take(10)
    ).toEqualSnapshot([
      '@supports (zin fixed) and (not (wocu ( 67% ) and uf ( -391.5155Q ))) {\n  iframe { clip: auto; }\n:nth-of-type(even) { background: padding-box right / contain repeat-x rgb(7965998619557888 , 81%) fixed left border-box; }\n:read-only { gap: 219.9933pt normal; border-inline-style: outset; }\n:hover { border-inline-end-style: groove; right: -149.6883pt; }\n:checked { margin-block-end: -937.3735vw; scroll-snap-align: center; grid-auto-columns: fit-content(789.6547vmin); }\n:nth-last-of-type(odd) { column-width: 140.888em; inset-inline-end: 922.3441in; scroll-snap-align: start; position: relative; left: auto; }\n:nth-last-of-type(even) { caption-side: block-end; letter-spacing: normal; border-end-end-radius: 604.394em; background-size: auto; font-variant-caps: unicase; }\n:hover { clip-path: url(gor); }\n:required { scrollbar-width: thin; background-size: contain; flex: auto; mask-type: luminance; }\n:first-child { background-origin: padding-box; }\n:first { column-span: all; perspective: 275.115in; text-decoration-thickness: from-font; grid-row-start: wus; }\n\n}',
      "@supports (scrollbar-width: auto) or (inset-inline-start: auto) {\n  .gatih + :nth-child(even of rohu #vaopu ::ilhak:kudlewje ( 0% ) + ril #jeofhi ::lahugwi ( -703.8262in ):tu ( none )) { animation-name: none, 'fil'; }\n:invalid { list-style-image: url(cojho); scroll-margin-right: -264.4337pt; min-block-size: fill-available; min-height: auto; justify-self: right; }\n::after { column-rule-width: medium; }\n:active { animation-timing-function: step-end; column-width: auto; border-right-color: rgb(51% , -2726191219867648); object-fit: fill; }\n::marker || :read-only { font-family: monospace, dewire, umi; justify-content: normal; }\n:dir(rtl) { unicode-bidi: plaintext; }\n:nth-child(odd of wo:movecuaw ( paint(du , normal) ) ::ri:ugabel ( hidden ) + * | * . dijjeg ::miwtitpo ( inactive ):hojizo) { border-inline-width: thick; }\n::marker { transition-duration: -440.8793s; text-decoration-line: underline line-through overline; font-variant-ligatures: none; }\n::placeholder { translate: 7%; column-fill: balance; border-inline-start: -254.6263px hsla(392.0596turn , 57% , 7%) dotted; }\n\n}",
      '@supports (hiih auto) and lihakhup ( auto ) {\n  li { scroll-margin-inline-end: -611.4521Q; background-repeat: space; scroll-margin-inline-start: -898.463vmin; text-decoration-thickness: from-font; }\n.dinbel { letter-spacing: -426.9175vmax; }\n:nth-last-of-type(odd) { border-top-right-radius: -922.3306vmax; }\n:first { justify-self: auto; column-width: auto; }\n:visited { box-sizing: content-box; unicode-bidi: bidi-override; grid-column: auto / auto; border-inline-start-style: double; }\n:indeterminate { padding-bottom: 13%; page-break-inside: auto; white-space: break-spaces; }\n:left { column-span: none; scroll-margin-inline-start: -202.3582in; font-variant-position: sub; pointer-events: auto; }\n:disabled { border-inline-end-style: outset; }\n[colspan=vicod] { border-top-right-radius: 98.4533cm; padding-right: 320.3948vw; break-inside: avoid-column; }\n::placeholder { place-items: first baseline legacy; font-variant-alternates: normal; border-top-left-radius: 35%; }\n:root frameset ~ , + #ku { padding-inline: -51.6523ch; border-block-end-color: currentcolor; height: fit-content; grid-row-start: mo; font-optical-sizing: auto; }\n\n}',
      "@supports (jetupum 16% fill) and (selector(: anoso ( none ) ::opeupu ( -608.4178ms ):la [ kev ~ = 'jivotu' i ] ::uhimo ( auto ):majziew ( subgrid )) or selector(| * #rilleh ::ca ( preserve-3d ):ku ( pan-up pinch-zoom pan-x ) . rozu ::dawucrak ( auto ):dudzup ( auto ))) {\n  , { padding-bottom: -854.474mm; scroll-padding-bottom: 14%; border-block: medium hsl(6851956031094784 , 82% , 23% , 99%); }\n:nth-last-of-type(odd) { flex-wrap: wrap-reverse; border-block: khaki 812.7088in; }\n:invalid + :last-of-type { align-self: stretch; grid-row-end: -77% tos; }\n:out-of-range { border-style: outset; font-size: larger; caret-color: auto; }\n::before { border-right-style: solid; translate: 955.8014vw -354.6272vmin; isolation: isolate; }\n::slotted(ucite [ wijwawuz ] ::nakefti:selu) { word-break: break-all; padding-block-start: 72.1927in; }\n:first { scroll-padding-block: 27%; border-image-width: 7%; scroll-padding-bottom: 42%; }\n:required { mask-position: right 87% bottom -670.3315ch; font-style: italic; scroll-margin: 621.1067pt; }\n::slotted(lezenu #maba ::amuuwizoz:hegaog ( -542.7144vmin )) { right: 4%; filter: none; border-block-start-width: 343.1464pt; inset-inline-end: 78%; }\n:visited { column-gap: 55%; vertical-align: middle; border-block-style: inset; }\n:target { margin-right: -39.9081ch; font-variant-alternates: swash(ujsok) character-variant(dulim) ornaments(ikerur) annotation(fiwpogna) stylistic(pehtika) historical-forms; justify-self: auto; }\n:lang(ce) { border-image-outset: -722.3457rem; min-width: 18%; padding-block-start: -176.6776vmin; }\n::before { inset-block-start: auto; visibility: visible; mask-composite: add; }\n:default { scroll-padding-bottom: auto; }\n:first-of-type { direction: ltr; animation-iteration-count: infinite; }\n:not([ lam ] ::baporpu:caetzi | holilzab #wo ::zibelre ( none ):gakufki) { border-start-start-radius: 34%; }\n:nth-last-of-type(even) { empty-cells: hide; object-position: center; margin-inline-start: 74%; margin-left: 75%; }\n\n}",
      '@supports selector(. lu ::helkow ( normal ):le:af ::cammoudu:ovaugi) and ((rinjugaz khaki) or (wojan ( normal ) and saj ( medium outset ))) {\n  :first-child { scroll-padding: auto; border-top-width: 363.0055ch; rotate: none; mask: view-box match-source no-repeat subtract; }\n::first-line ~ :required { transform-box: border-box; border-inline-end-color: hsla(482.2413rad 58% 4% / 14%); scroll-padding-inline-start: 20%; scroll-margin-inline-end: -672.6881vmax; border-inline: rgba(64% , 36%); }\n:first { margin-right: 68%; scroll-padding-block-start: auto; gap: 799.3349pc normal; left: auto; font-weight: bolder; }\n:nth-last-child(4n+9) { justify-items: right; border-spacing: 248.476px; }\n:in-range { content: none; perspective: none; padding-block-end: -666.5385vh; text-decoration-color: #7ed415; justify-items: legacy; }\n\n}',
      '@supports selector(| zobewol:amlu ( pofig ) ::bonsirse ( -636.8046vw ):hikju ( normal ) ~ [ | inu ] ::wowwo:loccoov) or (defuf 93%) {\n  ::before { inset-inline: 182.5509Q; font-optical-sizing: auto; }\n* { counter-increment: bojmiewu; grid-row: olibi / auto; border-top-right-radius: 155.2639pt; border-inline: thin ridge; }\n:nth-last-child(7n+3) { outline-color: invert; border-inline-width: thick; }\n::placeholder { border-image:  30% / 499.921pc stretch; scroll-margin-inline-end: 796.1086mm; border-left-color: hsla(-926.9007grad 47% 84% / 6%); }\n:enabled { padding-right: 55.2955pt; justify-self: stretch; grid-template-columns: repeat(77% , 723.5713cm [ jetikbud ]) [ vibhegvi ]; animation-delay: 190.098ms; }\n:first-of-type { margin-block-end: 774.921Q; list-style-position: inside; page-break-after: auto; scroll-margin-right: -513.6556vw; }\n:required { shape-margin: 83%; translate: none; transform-style: preserve-3d; border-end-end-radius: -187.2154in; }\n\n}',
      '@supports not cof ( -946.9356cm ) {\n  ::before { mix-blend-mode: color-dodge; padding-inline: 91%; scroll-padding-block-start: -328.2683ex; }\n:visited { flex-basis: 34% ; scroll-behavior: smooth; }\n:fullscreen { tab-size: -56%; transition: 736.936s cubic-bezier(7107621039374336 , -521238480945152 , 5401712181379072 , -5726648611635200) none -30.4433ms; inset-block-end: 483.3739px; }\n:read-only { font-size: x-small; border-color: saddlebrown; font-variant-caps: titling-caps; border-bottom-width: medium; }\n\n}',
      "@supports ((((sig railed) or selector(: ba ( drag ) ::wig ( space-evenly ):ovi:lawac ( 206.3042vh ) ::eh:wohsul)) or selector(* [ re ] ::culsaj:delopo ( min-content ) #cob ::bileaw ( -726.3628s ):paruzop ( auto ))) or selector(teububar | * [ | nuhdo | = 'ukalocul' ] ::bonhipa ( proximity ):wise ( auto ) || * | tumaiz #gij ::cubcoma ( -364227273424896 ):jukdij ( auto ))) or (di thick) {\n  :read-write { margin-right: -445.4687ch; text-orientation: sideways; }\n#ledez { scroll-margin-inline-end: 572.6901ex; border-block-style: double; font-variant: jis78 ruby annotation(ge) character-variant(gu) stacked-fractions ornaments(acufuonu) tabular-nums historical-ligatures swash(po) full-width no-common-ligatures oldstyle-nums contextual styleset(nepzisu) historical-forms slashed-zero ordinal no-discretionary-ligatures; tab-size: -9%; text-decoration: wavy none; }\n::placeholder { tab-size: 62%; columns: auto -437.2181pc; border-top-style: dashed; align-content: last baseline; background-attachment: fixed; }\n:link { translate: none; }\n:out-of-range + ::cue { shape-image-threshold: -87432485666816; text-decoration-line: line-through blink overline; direction: rtl; overflow-wrap: break-word; margin-block: auto; }\n:empty { text-decoration-color: #cc241c; text-align: center; border-top-left-radius: 15%; text-align: end; }\n\n}",
      "@supports selector([ | zadizu = 'bathofat' s ] ::baco ( outset ):hebit ( auto ):uvmo ::dowvooh:conkacav) or (ulodisba 'lizerna') {\n  :last-child { transform-style: flat; border-block-end-width: thin; shape-margin: 54.0482vh; scroll-padding-inline: -558.4608vmax; border-block: rgba(6630277120000000 / 15%) -135.3304rem outset; }\n::first-letter { shape-outside: padding-box polygon(788.1984rem 491.674ex, -937.7319vmin 72%, 125.5006vmax -53.5802px); vertical-align: sub; border-inline-end-width: 737.2464cm; }\n:scope { scrollbar-width: thin; }\n::after { rotate: none; max-height: fit-content; border-bottom-style: dotted; }\n.upanibsa { overflow-y: hidden; font-variant-numeric: tabular-nums slashed-zero; column-width: 180.5279vh; font-variant-position: normal; }\n::slotted(#co ::unjor:zubpocha ( scroll-position )) { image-rendering: crisp-edges; }\n\n}",
      "@supports (selector(| rav . ac ::fugor:badupwu ( 88% ) > * [ * | ajopap ^ = alibid i ] ::sefivhez:gutva) or (list-style-position: inside)) and (um none) {\n  [disabled=hakge] { grid-column-end: auto; text-align: match-parent; page-break-inside: auto; place-self: self-end; place-content: last baseline normal; }\n:not(min | *:mogsewge ( inside ) ::hasmunte ( InactiveCaptionText ):cikdu [ | dapku = 'bensakhig' ] ::fe ( normal ):filsowef) { border-inline-end: thin groove; justify-items: last baseline; }\n:read-write { grid-area: dag 98% / auto; border-bottom-left-radius: 23%; transform: none; animation-timing-function: ease; border-right-width: thin; }\n::marker || , { border-block-end-width: medium; margin-inline-start: 376.4158em; }\n:hover { grid-template-areas: 'butusig'; inset-block-start: 49%; counter-set: none; justify-items: normal; border-bottom-right-radius: -734.5707in; }\n:read-write > ::marker { perspective-origin: left 461.659rem top -530.8775vmin; translate: none; }\n:disabled { outline: medium auto rgba(83% , 57%); scrollbar-color: auto; border-block-start-style: outset; scroll-margin-inline-start: 379.0535vmin; }\n:out-of-range { border-right: groove magenta -302.8527Q; border-image-source: paint(uv); word-wrap: break-word; resize: block; }\n, { clear: inline-start; border-block-start-color: MenuText; font-size-adjust: -3115893626241024; }\n::first-line { font-weight: lighter; text-emphasis-style: 'kivlahtah'; column-span: all; flex-direction: column; }\n:hover { padding-block-end: -222.8838px; grid-auto-columns: minmax(55% , 444.4194fr); all: initial; }\n:nth-last-of-type(even) { outline-offset: 285.1519Q; }\n:root { image-rendering: crisp-edges; letter-spacing: 902.9572pt; scroll-snap-stop: normal; }\n::first-letter { scroll-padding-block: auto; }\n\n}"
    ]);
  });

  it('should generate @viewport', () => {
    expect(
      new CssAtRuleGenerator({ type: 'viewport' }).take(10)
    ).toEqualSnapshot([
      "@viewport {\n  :target { border-inline-end-style: ridge; scroll-margin-block: 197.317px; border-image-slice: -7960857937969152 ; text-align: left; mask-composite: add; }\n:read-write { animation-delay: -887.1769s; page-break-after: recto; transform-box: border-box; -webkit-line-clamp: none; }\n::slotted([ jimab | lel ] ::gemsibsof:ow) { margin: auto; font-family: 'hir', bawha; outline: #9154cf -937.3735vw ridge; grid-auto-columns: fit-content(789.6547vmin); mask-clip: no-clip, margin-box, stroke-box, view-box; }\n:first-child { font-feature-settings: 'ene' 22%; letter-spacing: normal; border-end-end-radius: 604.394em; background-size: auto; font-variant-caps: unicase; }\n:hover { clip-path: url(gor); }\n:required { scrollbar-width: thin; background-size: contain; flex: auto; mask-type: luminance; }\n:first-child { background-origin: padding-box; }\n:first { column-span: all; perspective: 275.115in; text-decoration-thickness: from-font; grid-row-start: wus; }\n\n}",
      '@viewport {\n  :nth-child(8n+3) { inset-inline-start: auto; }\n:in-range { animation-duration: -121.327ms; }\n:checked { text-emphasis-position: right under; }\n:left { text-orientation: mixed; border-top-right-radius: 41%; left: auto; border-left-color: rgba(-7620452432216064 , 3508933461278720); }\n::before ::first-line { scroll-margin-top: -408.7326Q; border-block-start: hidden hsla(78.6845grad , 81% , 12% , -3278558025744384) thick; border-block-start-color: hsl(-145.7844deg 82% 35% / -8881960801796096); border-inline: dotted medium; }\n:empty ~ :first-of-type { transform-origin: left; border-right-color: #8edfc5; }\n:read-write { flex-basis: content; visibility: visible; translate: none; }\n:disabled { image-orientation: flip; border-image: stretch; box-shadow:  -933.8986in ; text-orientation: upright; }\n:dir(rtl) { justify-content: space-around; }\n::slotted(heajiupe | dovki #envewi ::ta ( round ):pufoj ( -581.8568vmin )) { text-decoration: wavy grammar-error from-font; inset-inline: 26%; border-top-color: AppWorkspace; }\n::placeholder { list-style-type: none; text-decoration-line: spelling-error; border-inline-start: medium currentcolor; text-emphasis-position: right under; text-decoration-thickness: from-font; }\n::backdrop { transform: none; }\n:target { outline-style: double; align-self: normal; border-block-end-style: outset; outline-color: invert; align-content: baseline; }\n:first { grid-template-rows: repeat(100% , 1%) repeat(auto-fill , minmax(65% , 85%) [ sipe ]) [ hi ] repeat(98% , minmax(91% , max-content)) [ tiref ]; border-start-end-radius: 50%; caption-side: block-end; }\n.caznuhijo { transition-duration: 856.6372ms; }\n\n}',
      "@viewport {\n  :nth-child(odd of | * . gu ::fe:erucaf ( 980.1078mm ) [ | warlihak ] ::tuc ( normal ):gocmob ( 34% )) { flex-shrink: 1420703647662080; }\n, { margin-inline: auto; animation-play-state: running; grid-column-start: auto; }\n:not(* | ba:demzef ::cugi ( right ):waumo ( hsla(-1099393134493696 75% 7%) ):wocafig ::waoho:vikwib ( center top )) { border-bottom-color: rgb(-6916220410396672); background: none padding-box local hsla(-636379948122112 43% 65%) none padding-box center center; animation: obututven -6692342744481792 running alternate-reverse 91.2336s step-end; font-family: fantasy, sans-serif, 'de', 'vec', sans-serif; }\n:hover { overflow-x: visible; counter-set: none; bottom: -7.9251cm; padding-block-end: 35%; max-width: fill-available; }\n::before { place-content: last baseline; }\n:not(. anumajzi ::rugvozec:pitkedeb | * . oru ::tade:ves ( left under )) { hyphens: auto; background-color: InfoBackground; background-clip: padding-box; place-content: unsafe flex-start; vertical-align: sub; }\n:read-only { scroll-padding-right: 10%; scroll-padding-right: auto; font-variant-east-asian: jis90; scroll-padding-bottom: 14%; }\n[readonly=un] { table-layout: auto; text-decoration-color: currentcolor; }\n:dir(rtl) { word-break: keep-all; resize: horizontal; flex-wrap: wrap-reverse; border-block: khaki 812.7088in; border-block-start-style: solid; }\n\n}",
      '@viewport {\n  :disabled { font-size-adjust: none; }\n:nth-last-child(8n+2 of:vigmelcu ( subgrid [ rahbiwoce ] / [ ragohup ] repeat(59% , minmax(max-content , 830.5087in) [ ikdoja ]) repeat(auto-fit , minmax(-541.2105px , 77.7346fr) [ nob ]) [ mu ] repeat(69% , 821.8544cm [ monokaivi ]) ) ::lo:udezek ( 57% -62.6137ch ) #er ::zuwsos ( 699.2948mm ):ga) { transition-duration: -450.5364s; border-left-style: dotted; }\n::before { right: 4%; filter: none; border-block-start-width: 343.1464pt; inset-inline-end: 78%; }\n:visited { column-gap: 55%; vertical-align: middle; border-block-style: inset; }\n:target { margin-right: -39.9081ch; font-variant-alternates: swash(ujsok) character-variant(dulim) ornaments(ikerur) annotation(fiwpogna) stylistic(pehtika) historical-forms; justify-self: auto; }\n:lang(ce) { border-image-outset: -722.3457rem; min-width: 18%; padding-block-start: -176.6776vmin; }\n::before { inset-block-start: auto; visibility: visible; mask-composite: add; }\n:default { scroll-padding-bottom: auto; }\n:first-of-type { direction: ltr; animation-iteration-count: infinite; }\n:not([ lam ] ::baporpu:caetzi | holilzab #wo ::zibelre ( none ):gakufki) { border-start-start-radius: 34%; }\n\n}',
      '@viewport {\n  :last-child { empty-cells: hide; object-position: center; margin-inline-start: 74%; margin-left: 75%; }\n:nth-last-of-type(even) { border-bottom-right-radius: -432.4482mm; flex-basis: max-content; mask-mode: luminance; }\n:dir(ltr) { word-break: break-all; mask-image: url(de); border-image-repeat: repeat; }\n:dir(ltr) { shape-image-threshold: -7423956478853120; }\n:enabled { border-inline-style: none; text-emphasis-position: right under; animation-delay: -179.2064s; will-change: scroll-position; text-emphasis-position: under left; }\n::backdrop { scroll-padding-block-start: -18.5024em; }\n:required { scroll-padding-block-end: 56%; justify-self: stretch; grid-template: none; scroll-padding-right: -625.9125vw; }\n:first-child { font-variant-east-asian: normal; inset-block: auto; border-top-color: #1d65f2; padding-inline-end: 77%; }\n:enabled { margin-inline-end: 15%; }\n::first-line { column-rule-width: medium; margin-top: -261.5391mm; grid-auto-rows: min-content; }\n* { word-spacing: normal; column-rule-width: medium; scroll-padding: auto; }\n:disabled { overflow-x: visible; }\n\n}',
      "@viewport {\n  :nth-last-of-type(even) ~ :last-child { font-style: oblique; border-block-start: HighlightText hidden thick; perspective: 876.681ex; border-inline-end-color: hsla(482.2413rad 58% 4% / 14%); }\n:visited { quotes: none; scroll-margin-inline-end: -672.6881vmax; border-inline: rgba(64% , 36%); column-rule-color: InfoText; }\n:hover { scroll-padding-block-start: auto; gap: 799.3349pc normal; left: auto; font-weight: bolder; }\n:nth-last-child(4n+9) { justify-items: right; border-spacing: 248.476px; }\n:in-range { content: none; perspective: none; padding-block-end: -666.5385vh; text-decoration-color: #7ed415; justify-items: legacy; }\n::cue(:target) { border-image-outset: -3391713796161536; padding-inline-end: 557.1439vh; border-end-end-radius: -590.9109px; padding-right: 49%; text-decoration: solid overline underline blink line-through from-font currentcolor; }\n:not(. wo ::son ( 25% ):guwse ( inline-axis ):sam ( none ) ::inu:wowwo) { scrollbar-width: thin; }\n:focus { background-repeat: repeat-y; block-size: fit-content; border-block-end-width: thick; scroll-padding-top: 45%; }\n:dir(rtl) + ::after :active ~ ::after ~ ::first-line { text-align-last: end; inset-inline: 182.5509Q; }\n:hover { background-clip: content-box; counter-increment: bojmiewu; }\n:lang(hz) { place-items: self-end; animation-name: si, none, none; animation-name: none, none, 'haf', 'ula', rupekak; }\n:right { border-left-width: thick; text-emphasis-position: over right; max-height: -244.5481pt; }\n::after { margin-left: -411.9107vh; padding-right: 55.2955pt; justify-self: stretch; }\n:last-child { image-orientation: 530.7126deg; border-block-end-width: -331.2744vmax; block-size: auto; }\n:root { break-after: all; text-emphasis-position: right under; }\n.ervibheg { outline-width: medium; }\n\n}",
      '@viewport {\n  :nth-last-of-type(4n+8) { border-inline-width: thick; opacity: 24%; page-break-after: auto; }\n\n}',
      "@viewport {\n  :dir(rtl) { mask-image: url(ukufekku); border-block-style: none; min-height: 471.8092ex; scroll-snap-type: none; }\n::before || :nth-last-child(even) ~ :read-write { text-overflow: 'kelen'; animation-name: 'zinu', none; border-right-color: WindowText; row-gap: -771.5242vmin; margin-block: 99%; }\n::cue { border-inline-end-style: solid; grid-template-rows: none; inset-block-end: 483.3739px; padding-bottom: 40%; }\n:disabled { border-color: saddlebrown; font-variant-caps: titling-caps; }\n:link ~ ::first-letter { padding-block: 366.3677ch; }\n:visited { justify-content: normal; scroll-padding-block-start: -451.8896cm; list-style-image: url(erda); border-color: rgba(7206095290368000); text-combine-upright: digits -50%; }\n:nth-of-type(even) { hyphens: none; margin-bottom: auto; scroll-padding-right: auto; font-size-adjust: none; }\n:scope { font-variant-caps: normal; empty-cells: show; transition-timing-function: step-start; }\n[hidden=hakjij] { padding-top: 30%; mask-origin: stroke-box; transition-delay: -47.8992ms; outline-color: invert; transform: none; }\n:required { border-right: medium; bottom: 190.1559vmax; background-blend-mode: saturation; }\n:last-of-type { mask: repeat-y stroke-box; font-synthesis: none; padding-inline-end: 60%; font-variant-position: sub; border-top-left-radius: 638.2047cm; }\n:target { padding-block-end: 27%; }\nnextid { flex: none; }\n, { text-shadow: 900.4747rem ; inset-inline-end: -826.5896px; transition-property: asovovhul; object-fit: contain; padding-block-end: 5%; }\n::marker { animation-timing-function: linear; padding-inline-end: 93%; z-index: auto; list-style-position: outside; }\n:last-child { column-rule: medium; perspective: none; border-inline-start-color: Background; visibility: hidden; transform-style: preserve-3d; }\n:last-child { tab-size: 69%; grid-auto-rows: min-content; scroll-padding-inline-start: 300.3347px; flex-direction: row; }\n\n}",
      '@viewport {\n  :last-child ~ [cols=kisciam] { scroll-margin-bottom: 323.3104in; place-items: last baseline; mask-repeat: repeat; }\n:in-range { grid-column-end: luw span; }\n:target { z-index: auto; }\n:fullscreen { scrollbar-color: auto; }\n:indeterminate { grid-template-areas: none; }\n:only-child { text-combine-upright: none; will-change: auto; scrollbar-color: auto; }\n:in-range { font-variant-caps: petite-caps; place-items: baseline; }\n:last-child + :fullscreen { clear: inline-end; color: darksalmon; }\n:nth-last-of-type(3n+1) { word-break: normal; font-variant-ligatures: normal; font: icon; overflow-wrap: normal; border-right-color: WindowFrame; }\n:target { border-width: 177.1085pc; will-change: nupfozhi; transform-origin: center right -759.3225ex; background: space left 93% bottom -479.5333mm / contain fixed border-box lightslategrey repeat-x; }\n:nth-last-of-type(odd) { tab-size: -9%; text-decoration: wavy none; transition-property: kow; }\n:nth-child(odd) { font-stretch: extra-condensed; flex-grow: -8915647576670208; }\n\n}',
      "@viewport {\n  :read-only { background-attachment: fixed; justify-items: normal; translate: none; border-block-start-color: slategray; }\n[scope=pupiane] { overflow-wrap: break-word; margin-block: auto; box-shadow: darkslateblue 701.1635em inset; border-image-source: image-set('ora' 618.6114dppx); }\n:root { border-image-source: conic-gradient(from -69.06deg at right -542.7497vh bottom -997.7598vmax , -987.2283deg hsl(-347.1329turn 56% 63%), rgb(82% , -7080007411171328)  82.5332grad,  hsla(7782726480429056 , 76% , 10% , 17%) 6% ,  peachpuff); }\n[selected=kacav] { word-spacing: 97%; grid-area: baahpu 54% / nanumal; shape-margin: 54.0482vh; scroll-padding-inline: -558.4608vmax; border-block: rgba(6630277120000000 / 15%) -135.3304rem outset; }\n::first-letter { shape-outside: padding-box polygon(788.1984rem 491.674ex, -937.7319vmin 72%, 125.5006vmax -53.5802px); vertical-align: sub; border-inline-end-width: 737.2464cm; }\n:scope { scrollbar-width: thin; }\n\n}"
    ]);
  });

  describe('without a name', () => {
    it('should generate any at-rule', () => {
      expect(new CssAtRuleGenerator().take(10)).toEqualSnapshot([
        '@import url(wosalda) ;',
        '@supports (padding-inline-start: 2%) and ((bagohrak fauj, none) or (scroll-margin-block-end: 236.772em)) {\n  :left { margin-top: 4%; tab-size: 360.6151em; grid-auto-columns: 95%; unicode-bidi: bidi-override; scroll-margin-top: -229.167in; }\nbdo { overflow-y: hidden; gap: 219.9933pt normal; }\n::first-letter || :hover { border-inline-end-style: groove; right: -149.6883pt; }\n:checked { margin-block-end: -937.3735vw; scroll-snap-align: center; grid-auto-columns: fit-content(789.6547vmin); }\n:nth-last-of-type(odd) { column-width: 140.888em; inset-inline-end: 922.3441in; scroll-snap-align: start; position: relative; left: auto; }\n:nth-last-of-type(even) { caption-side: block-end; letter-spacing: normal; border-end-end-radius: 604.394em; background-size: auto; font-variant-caps: unicase; }\n:hover { clip-path: url(gor); }\n:required { scrollbar-width: thin; background-size: contain; flex: auto; mask-type: luminance; }\n\n}',
        "@font-feature-values 'ko' {\n  @styleset { sogrij:-76% ; }\n}",
        '@viewport {\n  ::after { page-break-after: left; border-style: ridge; border-top-width: thin; animation-timing-function: ease-in-out; }\n:in-range { animation-duration: -121.327ms; }\n:checked { text-emphasis-position: right under; }\n:left { text-orientation: mixed; border-top-right-radius: 41%; left: auto; border-left-color: rgba(-7620452432216064 , 3508933461278720); }\n::before ::first-line { scroll-margin-top: -408.7326Q; border-block-start: hidden hsla(78.6845grad , 81% , 12% , -3278558025744384) thick; border-block-start-color: hsl(-145.7844deg 82% 35% / -8881960801796096); border-inline: dotted medium; }\n:empty ~ :first-of-type { transform-origin: left; border-right-color: #8edfc5; }\n:read-write { flex-basis: content; visibility: visible; translate: none; }\n:disabled { image-orientation: flip; border-image: stretch; box-shadow:  -933.8986in ; text-orientation: upright; }\n:dir(rtl) { justify-content: space-around; }\n::slotted(heajiupe | dovki #envewi ::ta ( round ):pufoj ( -581.8568vmin )) { text-decoration: wavy grammar-error from-font; inset-inline: 26%; border-top-color: AppWorkspace; }\n::placeholder { list-style-type: none; text-decoration-line: spelling-error; border-inline-start: medium currentcolor; text-emphasis-position: right under; text-decoration-thickness: from-font; }\n::backdrop { transform: none; }\n:target { outline-style: double; align-self: normal; border-block-end-style: outset; outline-color: invert; align-content: baseline; }\n:first { grid-template-rows: repeat(100% , 1%) repeat(auto-fill , minmax(65% , 85%) [ sipe ]) [ hi ] repeat(98% , minmax(91% , max-content)) [ tiref ]; border-start-end-radius: 50%; caption-side: block-end; }\n.caznuhijo { transition-duration: 856.6372ms; }\n\n}',
        '@import url(uzujegu) ;',
        "@font-feature-values 're' {\n  @annotation { onagouja:-49% ; }\n}",
        '@keyframes zuforre {\n  from {\n  font-variant-alternates: annotation(gocmob) character-variant(kajdinbel); border-image-repeat: round; width: available; scroll-padding-top: 3%; border-top-right-radius: -922.3306vmax;\n}\n}',
        "@font-feature-values 'kizef' {\n  @annotation { cugi:-18% ; }\n}",
        "@keyframes 'waumo' {\n  from {\n  scroll-margin-inline-start: -202.3582in;\n}\n}",
        "@import 'haucmor' ;"
      ]);
    });
  });
});
