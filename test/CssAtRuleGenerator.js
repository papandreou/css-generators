const expect = require('unexpected')
  .clone()
  .use(require('unexpected-snapshot'))
  .use(require('magicpen-prism'));
const chanceCache = require('chance-generators/lib/chanceCache');

const CssAtRuleGenerator = require('../lib/CssAtRuleGenerator');

describe('CssAtRuleGenerator', () => {
  beforeEach(() => chanceCache.clear());

  it('should generate @font-face', () => {
    expect(
      new CssAtRuleGenerator({ type: 'font-face' }).take(10),
      'to equal snapshot',
      [
        '@font-face {\n  font-weight:normal ; font-style:normal ; src:url(satacwuw)  ; font-feature-settings:normal ;\n}',
        "@font-face {\n  font-style:normal ; src:local('ju'), url(do) format('pu'), local('sof') ;\n}",
        "@font-face {\n  font-family:'ve' ; font-style:italic ; font-stretch:expanded ; font-variation-settings:normal ; font-feature-settings:'bawha' off ;\n}",
        "@font-face {\n  font-variant:proportional-width character-variant(uhred) slashed-zero ordinal ornaments(fab) annotation(zejaaf) oldstyle-nums stylistic(asoojduv) no-discretionary-ligatures ; font-feature-settings:'dako'  ; src:local(inla), local(wighibwic), url(gatih) format('idemis'), url(cih) format('opu') ;\n}",
        "@font-face {\n  font-variation-settings:'duj' -3278558025744384, 'jemateh' -8881960801796096, 'ril' -5006060721012736 ; font-family:ke ; font-stretch:16% ;\n}",
        "@font-face {\n  src:url(poh) , url(jopibje) format('vapiz'), local('cojho'), local('upeaco'), local('gob') ; font-feature-settings:'vewi' -30% ; font-variant:none ;\n}",
        "@font-face {\n  src:local('ovakod'), url(irevaumi) format('uc'), local(ipaje), local(eviipuod), local(sajopbed) ;\n}",
        '@font-face {\n  font-feature-settings:normal ; font-variant:normal ; font-style:italic ;\n}',
        "@font-face {\n  src:local('tehi'), local(iwmoj), local(pufwi) ; font-variation-settings:normal ; unicode-range:U+926e-e6a4 ;\n}",
        '@font-face {\n  font-style:normal ; font-weight:7715901327540224 ;\n}'
      ]
    );
  });

  it('should generate @charset', () => {
    expect(
      new CssAtRuleGenerator({ type: 'charset' }).take(10),
      'to equal snapshot',
      [
        '@charset "DS_2089" ;',
        '@charset "EBCDIC-DK-NO-A" ;',
        '@charset "CP51932" ;',
        '@charset "BS_viewdata" ;',
        '@charset "IBM865" ;',
        '@charset "EBCDIC-AT-DE" ;',
        '@charset "HP-Math8" ;',
        '@charset "HP-Math8" ;',
        '@charset "PT" ;',
        '@charset "KZ-1048" ;'
      ]
    );
  });

  it('should generate @counter-style', () => {
    expect(
      new CssAtRuleGenerator({ type: 'counter-style' }).take(10),
      'to equal snapshot',
      [
        "@counter-style ofosid {\n  symbols:Ⓐ Ⓑ Ⓒ ; system:cyclic ; speak-as:auto ; negative:'ofaufjom' 'be' ; suffix:paint(celel , ) ;\n}",
        "@counter-style gemsibsof {\n  system:cyclic ; fallback:hir ; pad:219.9933pt ; range:auto ; suffix:'lef' ;\n}",
        '@counter-style kimri {\n  system:additive ; speak-as:sa ;\n}',
        "@counter-style uhlog {\n  speak-as:spell-out ; suffix:'uk' ; additive-symbols:-42% 'gor', ojduv 70%, 'le' 34%, 46% paint(rij , ) ; range:auto ; symbols:Ⓐ Ⓑ Ⓒ ; negative:'wighibwic' 'de' ;\n}",
        "@counter-style tih {\n  suffix:'sefuwaho' ; range:61%, -63%, 79%, infinite, infinite ; pad:614.8804cm ; system:fixed ; symbols:Ⓐ Ⓑ Ⓒ ; negative:'deg' ;\n}",
        '@counter-style bueh {\n  symbols:Ⓐ Ⓑ Ⓒ ;\n}',
        "@counter-style mifdej {\n  fallback:ugwijah ; symbols:Ⓐ Ⓑ Ⓒ ; additive-symbols:22% caku, piz 11%, 35% 'heajiupe', 'femwaser' -56%, 2% ta ;\n}",
        "@counter-style vej {\n  fallback:hepazpig ; pad:992.5074cm ; symbols:Ⓐ Ⓑ Ⓒ ; prefix:ivokewo ; additive-symbols:ipuod 57%, paint(du , auto) -43%, 10% paint(ugabel , ), -27% cross-fade(paint(ram , ) 26% , ), 95% iwmoj ; negative:'vivho' 'sataf' ;\n}",
        '@counter-style nuhijoow {\n  prefix:image(ltr  , ) ; fallback:re ; pad:85% ; speak-as:spell-out ;\n}',
        '@counter-style cafvujhi {\n  speak-as:bullets ; additive-symbols:tuc 2%, 26% cok ; suffix:ija ;\n}'
      ]
    );
  });

  it('should generate @document', () => {
    expect(
      new CssAtRuleGenerator({ type: 'document' }).take(10),
      'to equal snapshot',
      [
        "@document media-document('wosalda'), domain('satacwuw') {\n  cite { border-inline-end-style: groove; column-count: auto; inset-inline-end: -136.11ch; clear: both; mask-mode: luminance; }\n#lel > , { mask-position: bottom; margin-right: 4%; shape-margin: 68%; border-inline-end: thick InfoBackground; }\n:valid { column-count: -81%; border-spacing: 368.4661ex ; }\n:out-of-range { mask-mode: luminance; }\n:visited { border-inline-color: Highlight; }\n\n}",
        "@document url(kimri), url(esi) {\n  :hover { text-underline-position: left under; margin-block: 41.6685ch; translate: none; scroll-padding-top: auto; place-self: normal unsafe right; }\n:empty { left: -718.1516in; scroll-margin-inline-end: -669.4662cm; animation: infinite backwards 422.6839s 580.3511s ease alternate-reverse running epidako; column-span: all; }\n:required { min-height: 89%; list-style-position: inside; float: left; }\n::selection { scroll-snap-align: center; padding-top: 23%; scale: none; height:  -949.1618pc; }\n:checked + .nenvudsi { quotes: none; border-spacing: 885.7072cm -420.4971rem; border-image-source: repeating-radial-gradient(closest-side at -626.8599pc 32% , rgb(-2588707953573888 , ) -455.7355ex , -998.9593vmax, hsl(-8881960801796096 , 16% , 51% , -273278849515520)  , -461.1754mm, rgba(-5975537289789440 , )  , 71%, hsla(8498870480797696 25% 97% )  , 424.5412in, rgba(8966495543492608 )  , 50% , hsla(-3987550834262016 34% 91% / 3255300119330816) ); }\n:link { grid-area: heajiupe 7% span / span 2% bun; column-span: all; border-right-color: rgb(51% , -2726191219867648); }\n:only-of-type { border-inline-style: outset; }\n:read-only { font: menu; transform: translateX(34%); }\n:right { border-left-style: outset; }\n:not( * #azpig ::uwivoke:ewumovecu  * | * #opbed ::viuga:pe ( space )) { object-fit: none; scroll-snap-align: end; }\n:optional { margin-block: 9%; inset: 64%; }\n:disabled { border-top-color: #f91738; widows: -21%; }\n:last-of-type { text-indent:  65% each-line; outline-color: currentcolor; border-inline-start-style: dotted; padding-top: -438.4553px; animation-duration: 537.1081s; }\n#olu { text-overflow: 'buwmi'; unicode-bidi: bidi-override; }\n::placeholder { scroll-snap-type: none; clip-path: url(egpa); flex-grow: 1023240625455104; font-kerning: none; scroll-padding-top: 57%; }\n[tabindex=vuj] { border-top-style: double; }\n:enabled { column-rule-width: medium; scroll-snap-align: end; border-collapse: separate; padding-inline-end: 105.64in; clip-path: none; }\n:in-range { border-top-width: thick; mask-mode: match-source; border-block: thick hidden; object-fit: fill; padding-block-start: 591.5854ch; }\n::cue(:first-of-type) { flex-shrink: 1420703647662080; }\n\n}",
        "@document domain('belru') {\n  ::after { shape-margin: -499.4973ch; animation-play-state: paused; color-adjust: economy; }\n:not( . zeftic ::ri ( umo -36%  ):miceb ( AppWorkspace ) +  * #fig ::waoho:vikwib ( center top )) { border-bottom-color: rgb(-6916220410396672 ); background: none , padding-box local hsla(-636379948122112 43% 65% ) none padding-box center center ; animation: obututven -6692342744481792 running alternate-reverse 91.2336s step-end; font: small-caption; }\n::placeholder { text-indent: -570.8218cm  ; animation-play-state: running; mask-position: right -229.2068vmax bottom -318.7509vmax; border-width: thin; }\n:last-of-type { padding: 35%; }\n:only-child { text-combine-upright: none; perspective: none; scroll-margin-inline-end: 935.1612in; line-break: auto; font-variant-caps: unicase; }\n:nth-last-child(odd of  * #ziew ::mozoglu ( minmax(min-content , auto) ):ic   #eceuzoli ::nase:zuzodol ( auto )) { line-break: auto; gap: 55% ; padding-inline: 937.3039em; overflow-y: scroll; scroll-padding-inline-end: 10%; }\n\n}",
        "@document url(hakira), url(huluj), regexp('owsojwa'), domain('rohudi'), domain('mi') {\n  * { border-bottom: medium ridge magenta; border-style: outset; font-optical-sizing: auto; grid-template: none; }\n[cols=nubuz] { backface-visibility: visible; text-decoration-style: solid; inset-inline-start: auto; }\n::slotted( ucite [  wijwawuz ] ::nakefti:selu) { word-break: break-all; padding-block-end: 72.1927in; }\n:first { scroll-margin-top: 205.5638rem; box-sizing: content-box; border-bottom-width: thick; }\n[colspan=monokaivi] { border-image-width: -247.0733vh; }\n:valid { word-break: break-word; border-image-outset: 188.2614vh; flex-wrap: wrap; }\n::selection { scroll-padding-right: 6%; grid-row: auto ; border-bottom-width: thin; all: initial; block-size: auto; }\n:read-only { justify-content: safe right; list-style: none outside; flex-shrink: -4551371944624128; border-top: thick hsl(-4888336636313600 , 88% , 67% , 4%); filter: none; }\n.piemeamu + :nth-child(9n+8 ) { border-bottom-width: thin; animation-fill-mode: forwards; quotes: 'wuffob' 'simikis'; }\n:first-of-type { inset-block-end: 79%; text-orientation: upright; color: #860acc; }\n::backdrop { transition-delay: 592.9436ms; grid-auto-rows: fit-content(49%); scale: none; background-position: left 49%; }\n:first-of-type { border-left-style: groove; margin-inline: -316.8736cm; }\n\n}",
        "@document url(safo), media-document('we'), domain('nirfofbu') {\n  :first-of-type { cursor: url(di)  , ne-resize; grid-column: lam ; }\n:read-only { animation-timing-function: linear; scroll-margin-inline-start: -37.7092Q; }\n:read-only { inset-block: auto; }\n::first-line :focus { -webkit-line-clamp: none; }\n\n}",
        "@document regexp('saz'), url-prefix('olto'), url-prefix('woba'), url-prefix('vuv'), domain('bavliha') {\n  :right { border-inline-end-color: rgb(32% , -7400236884426752); column-width: auto; }\n:default ~ ::cue { grid-row-end: 30% ; grid-template: none; margin-inline-end: 74%; }\n:nth-last-of-type(even) { margin-inline-start: 57%; border-bottom-right-radius: -432.4482mm; flex: content -2592330896900096 ; word-break: break-all; }\n:nth-of-type(odd) { align-items: normal; border-right-width: -269.2864ex; }\n:last-of-type { scroll-snap-stop: normal; }\n, { scroll-margin-left: -653.2528ch; text-emphasis-color: currentcolor; }\n\n}",
        "@document url(moudu) {\n  :nth-last-child(odd of woori | nevgaz . gihidtoh ::fulri:naciz   [  va ~ = silaw s ] ::duuwela ( left over ):etgodfat ( fixed )) { inset-inline-end: auto; filter: none; text-combine-upright: all; font-feature-settings: 'noiljis' ; }\n:left { border-start-end-radius: 799.1492mm; float: none; letter-spacing: normal; }\n::first-letter { mask-size: cover; border-block-start-width: thin; }\n::marker { max-height: fit-content; content: image(rtl url(inofoh) , rgba(4394545802379264 , )) ; }\n:checked { padding-inline-start: 49%; text-align-last: center; counter-reset: devdopo -70%; }\n:last-of-type { font-stretch: extra-expanded; scrollbar-color: light; }\noptgroup { padding-block: 54%; padding-left: 198.0587mm; scroll-padding-bottom: auto; }\n::placeholder { counter-set: none; border-right-width: thin; font-variant-caps: petite-caps; caret-color: #274209; text-orientation: upright; }\n\n}",
        "@document domain('has') {\n  :nth-last-of-type(odd) { margin: auto; }\n:read-only { text-transform: none; padding-inline: 15%; scale: -2261971244154880; mask-image: none; }\n:in-range { perspective-origin: bottom center; }\n:dir(rtl) + ::after :active ~ ::after ~ ::first-line { table-layout: auto; inset-block-start: 182.5509Q; }\n:hover { background-clip: content-box; content: normal; }\n:valid { align-content: space-around; border-block-start-width: thin; font-synthesis: style weight; cursor: url(ponig)  , not-allowed; }\n::first-letter { border-top-left-radius: 155.2639pt; }\n:in-range #lojofgo { border-inline-width: thick; translate: none; border-image:  30% / 499.921pc stretch; }\n:target { direction: ltr; grid-column-start: auto; mask-type: luminance; flex-shrink: -503197173022720; scroll-padding-inline-end: 6%; }\n:enabled { padding-inline-start: 55.2955pt; justify-content: space-around; font-optical-sizing: auto; list-style-position: outside; }\n:first-of-type || ::backdrop + [rows=jetikbud] ::after { tab-size: -184.031ch; line-height: normal; border-top-style: dotted; border-inline-start-style: groove; }\n:left { margin-top: -321.4575vh; }\n:nth-last-child(9n+7 of  [  | sutukufek ] ::cap:ebgutir ||  * . len ::tek:nuhu ( contain )) { border-color: rgb(1184926300897280 , ); word-break: break-word; grid-row: span 3% ; place-content: space-evenly space-around; }\n:default { min-width: fit-content; }\n:in-range { border-bottom-width: medium; text-emphasis-position: over left; animation-delay: 645.1678s; isolation: auto; scroll-padding: -451.8896cm; }\n:nth-child(even of :ba ( drag ) ::wig ( isolate ):sumij ( 42% )   #gaczeceh ::wohsul:odoge) { justify-self: normal; }\n:nth-last-of-type(odd) * { hyphens: auto; margin-top: -331.5122Q; scale: none; border-block-start: thin hsla(196.5721grad , 46% , 24% , ); scroll-padding-block: auto; }\n:target { padding-block: 27%; }\n\n}",
        "@document domain('ka') {\n  ::first-line { border-collapse: separate; transition-delay: 381.1205ms; inset-inline: -826.5896px; transition-timing-function: steps(47% , start); resize: vertical; }\n:required { min-height: fit-content; width: available; text-emphasis-style: open dot; transform-style: preserve-3d; }\n#suz { list-style-image: none; }\n:last-child { column-rule: medium; page-break-inside: auto; border-inline-start-color: Background; visibility: hidden; transform-style: preserve-3d; }\n:last-child { shape-outside: none; scroll-padding-top: auto; column-rule-style: double; scroll-padding-inline: 300.3347px; }\n:fullscreen { list-style-position: inside; grid-template-areas: none; }\n::cue(:link) { font-weight: lighter; font-size: large; }\n:first { justify-self: stretch; scroll-margin-block-end: 323.3104in; perspective-origin: right center; mask-position: left 740.1978vw top 749.4034em; isolation: auto; }\n::marker { scroll-margin-inline: -859.9406vw; align-self: normal; background-blend-mode: hue; border-block-style: solid; animation-play-state: running; }\n:last-child { margin-inline: auto; box-sizing: border-box; font-language-override: 'ki'; inset-inline: auto; }\n:required { align-content: normal; grid-column-start: eh; }\n:read-write { margin-left: -445.4687ch; text-orientation: sideways; }\n#ledez { scroll-margin-inline: 572.6901ex; border-block-style: double; font-variant: jis78 ruby annotation(ge) character-variant(gu) stacked-fractions ornaments(acufuonu) tabular-nums historical-ligatures swash(po) full-width no-common-ligatures oldstyle-nums contextual styleset(nepzisu) historical-forms slashed-zero ordinal no-discretionary-ligatures; shape-margin: -85.1358vmin; font-feature-settings: normal; }\n:empty { grid-row-start: span vuwahhe -99%; }\n:disabled { padding-top: -8.2485pt; border: thick rgb(6326781367812096 , ) solid; text-decoration-color: hsla(813.0275turn , 57% , 35% , 54%); margin: auto; }\n:empty { text-combine-upright: all; scroll-margin-inline: 736.3216Q; border-top-color: currentcolor; border-image-slice: fill 6071092410056704; }\n:dir(rtl) { overflow: visible; mask-position: top 88% right 47%; animation-fill-mode: both; scroll-padding-block-end: auto; border-bottom-right-radius: 33%; }\n\n}",
        "@document media-document('buesiba'), url-prefix('kun') {\n  :disabled + :focus { align-self: stretch; scroll-padding-block: -786.0388in; right: 82.5332pc; translate: -215.6976Q ; }\n::first-line { border-block-end-width: thick; transform-box: border-box; overflow-y: scroll; background-position: right  bottom ; }\n:first-of-type { mask-repeat: repeat-x; }\n#uzonopso { animation-duration: -868.7477ms; scroll-padding-block-start: auto; }\n:focus { scroll-padding-block: 366.5908ch; grid: none; grid-row: 71% span ; }\n:link { scroll-padding-bottom: -558.4608vmax; border-block: rgba(6630277120000000 / 15%) -135.3304rem outset; text-justify: inter-character; shape-image-threshold: 2495461604720640; }\n::placeholder { right: -115.4025vw; column-gap: normal; }\n:first-child { page-break-after: always; place-self: normal ; animation-iteration-count: 2732186637697024; padding-left: 125.5006vmax; grid-row-end: fafdod; }\n:scope { scroll-padding-top: 1%; mask-type: alpha; border-bottom-style: dotted; }\n.upanibsa { overflow-x: hidden; font-variant-ligatures: none; border-inline-start-width: -16.8109em; background-origin: padding-box; }\n:nth-last-child(3n+6 of  . facomi ::jorezo ( none ):dagun ( solid ) > cidujbu | me #gorafava ::wusu ( normal ):wuoro ( stroke )) { mask-mode: match-source; grid-template-columns: none; }\n:optional { list-style: inside url(ranas); background-image: image(ltr  , #381e68); column-width: auto; grid-row: itvafi ; padding-right: 23%; }\n:first-child { left: auto; height: max-content; border-block: groove; border-right-color: rgb(-8455012766187520 ); border-top-width: thick; }\n\n}"
      ]
    );
  });

  it('should generate @font-feature-values', () => {
    expect(
      new CssAtRuleGenerator({ type: 'font-feature-values' }).take(10),
      'to equal snapshot',
      [
        "@font-feature-values 'gotsalda' {\n  @character-variant { satacwuw:-58% ; }\n}",
        "@font-feature-values 'goh' {\n  @swash { maro:-20% ; }\n}",
        "@font-feature-values 'uj' {\n  @historical-forms { apli:97% ; }\n}",
        '@font-feature-values enfic {\n  @stylistic { unukaho:-52% ; }\n}',
        "@font-feature-values 'tibawha' {\n  @swash { miribu:69% ; }\n}",
        '@font-feature-values muwwuh {\n  @stylistic { pakuj:50% ; }\n}',
        "@font-feature-values 'sezsi' {\n  @historical-forms { ad:-86% ; }\n}",
        "@font-feature-values 'zejaaf' {\n  @swash { asoojduv:70% ; }\n}",
        '@font-feature-values dako {\n  @styleset { sogrij:-76% ; }\n}',
        '@font-feature-values zonzebi {\n  @swash { biga:80% ; }\n}'
      ]
    );
  });

  it('should generate @import', () => {
    expect(
      new CssAtRuleGenerator({ type: 'import' }).take(10),
      'to equal snapshot',
      [
        "@import 'gotsalda'  ;",
        '@import url(fopcu) not uf and not (be) ;',
        '@import url(fauj)  ;',
        "@import 'taj' not sof  ;",
        "@import 'ozi' (not (((ebik:-635.5279Q) and (ginbu:6981775811149825/4051025054924801)) or (sowdipa))) and (zeenejom:-718.1516fr) ;",
        '@import url(bu)  ;',
        '@import url(jaaf) only cujduvtih  ;',
        "@import 'vewip'  ;",
        '@import url(lawus)  pawicna  ;',
        "@import 'nenvudsi'  cih and not (2662831533064193/5705193886842881 <  afmuret <  3209245650583553/2864320614498305) ;"
      ]
    );
  });

  it('should generate @keyframes', () => {
    expect(
      new CssAtRuleGenerator({ type: 'keyframes' }).take(10),
      'to equal snapshot',
      [
        '@keyframes gotsalda {\n  to {\n  content: none; border-end-end-radius: 65%; animation-delay: -887.1769s; padding-top: 94%; border-left-width: -636.3501vw;\n}\n}',
        '@keyframes tima {\n  from {\n  mask-mode: luminance; border-color: rgb(8534420776550400 ); border-start-end-radius: -818.7872vh;\n}\n}',
        "@keyframes 'pu' {\n  to {\n  background: local content-box element(#kahono) top  content-box repeat-x , padding-box left bottom / 85%; scrollbar-width: thin; transform-box: fill-box;\n}\n}",
        "@keyframes 'wuhsacuh' {\n  39% {\n  box-sizing: border-box; scroll-padding-bottom: 930.5107in; mask-image: image(  , rgba(1% / 4904325809700864)); font-kerning: auto;\n}\n}",
        '@keyframes af {\n  71% {\n  scroll-margin-block-end: 542.5407Q; background-size: contain; filter: sepia(85%); mask-size: cover;\n}\n}',
        '@keyframes le {\n  32% {\n  page-break-before: right; min-height: 89%; list-style-position: inside; float: left;\n}\n}',
        "@keyframes 'zonzebi' {\n  43% {\n  animation-duration: -121.327ms;\n}\n}",
        '@keyframes tih {\n  to {\n  padding-block: 14%; border-top-right-radius: 41%; justify-self:  baseline;\n}\n}',
        '@keyframes sefuwaho {\n  from {\n  grid-auto-rows: fit-content(-626.8599pc); text-emphasis: currentcolor none; text-emphasis-color: hsl(-779.8962grad 23% 65% ); -webkit-line-clamp: -30%; shape-margin: -986.0958em;\n}\n}',
        "@keyframes 'pedej' {\n  from {\n  border-inline-end: medium; list-style-image: none; font-size: larger; visibility: visible; translate: none;\n}\n}"
      ]
    );
  });

  it('should generate @media', () => {
    expect(
      new CssAtRuleGenerator({ type: 'media' }).take(10),
      'to equal snapshot',
      [
        '@media (sidfanu:202.23dpi) {\n  :optional { background-clip: content-box; }\n:required { transform-box: border-box; -webkit-line-clamp: none; word-wrap: normal; mask-position: center left; clear: both; }\n:nth-of-type(even) { background: padding-box right / contain , repeat-x rgb(7965998619557888 , 81%) fixed left  border-box; }\n:read-only { font-weight: lighter; border-bottom-color: #7ec3e9; }\n:visited { border-inline-color: Highlight; }\n:disabled { orphans: 51%; }\n:first { inset-inline: 93.4206px; border-inline-end-style: none; vertical-align: 78%; }\n:invalid { font-kerning: none; text-underline-position: left under; margin-block: 41.6685ch; translate: none; scroll-padding-top: auto; }\n:right { justify-self: unsafe right; break-inside: avoid-column; }\n:not( #fab ::mahbu ( space-evenly ):sawtaevo ( strict )   . kos ::inla ( isolate-override ):respawic ( none, none, none )) { min-block-size: max-content; column-rule: hidden rgba(41% , 20%); border-spacing: 885.7072cm -420.4971rem; border-image-source: repeating-radial-gradient(closest-side at -626.8599pc 32% , rgb(-2588707953573888 , ) -455.7355ex , -998.9593vmax, hsl(-8881960801796096 , 16% , 51% , -273278849515520)  , -461.1754mm, rgba(-5975537289789440 , )  , 71%, hsla(8498870480797696 25% 97% )  , 424.5412in, rgba(8966495543492608 )  , 50% , hsla(-3987550834262016 34% 91% / 3255300119330816) ); isolation: auto; }\n:invalid { list-style: outside; border: ridge thick hsl(966.8463rad 40% 54% / 5374507925635072); scroll-padding-inline-end: auto; column-rule-style: double; border-inline-end-width: medium; }\n#kofwihep { border-inline-style: outset; }\n:read-only { font: menu; transform: translateX(34%); }\n:right { border-left-style: outset; }\n:not( * #azpig ::uwivoke:ewumovecu  * | * #opbed ::viuga:pe ( space )) { object-fit: none; scroll-snap-align: end; }\n\n}',
        "@media  dijjeg and (ipilip) {\n  :out-of-range { shape-outside: none; border-spacing: 444.9043pt ; margin-block-end: 537.1081Q; }\n#olu { text-overflow: 'buwmi'; unicode-bidi: bidi-override; }\n::placeholder { scroll-snap-type: none; clip-path: url(egpa); flex-grow: 1023240625455104; font-kerning: none; scroll-padding-top: 57%; }\n[tabindex=vuj] { border-top-style: double; }\n:enabled { column-rule-width: medium; scroll-snap-align: end; border-collapse: separate; padding-inline-end: 105.64in; clip-path: none; }\n:in-range { border-top-width: thick; mask-mode: match-source; border-block: thick hidden; object-fit: fill; padding-block-start: 591.5854ch; }\n::cue(:first-of-type) { flex-shrink: 1420703647662080; }\n, { margin-bottom: auto; animation-name: none, none; left: auto; }\n:enabled { margin-left: auto; animation-iteration-count: infinite; animation-play-state: running; scroll-padding-block-start: auto; filter: drop-shadow(44.4865vmax hsl(245.781grad 8% 85% )); }\n:active { font-stretch: semi-expanded; padding-block-end: 13%; page-break-after: auto; }\n::selection { inset-block-end: auto; column-rule-width: 590.3724mm; box-sizing: content-box; font-weight: lighter; border: 925.2969cm; }\n::after { padding-block: 41%; background-color: rgba(-6189080085790720 , ); border-top-right-radius: 98.4533cm; }\n\n}",
        "@media  jozwom  {\n  :required { background: fixed left  , hsl(407.3157deg , 47% , 1% , ); rotate: 613.826grad; cursor: url(mo)  , default; }\n:nth-of-type(odd) { text-decoration-line: none; border-width: thin; animation: obututven -6692342744481792 running alternate-reverse 91.2336s step-end; font: small-caption; }\n::placeholder { text-indent: -570.8218cm  ; animation-play-state: running; mask-position: right -229.2068vmax bottom -318.7509vmax; border-width: thin; }\n:last-of-type { padding: 35%; }\n:only-child { text-combine-upright: none; perspective: none; scroll-margin-inline-end: 935.1612in; line-break: auto; font-variant-caps: unicase; }\n:nth-last-child(odd of  * #ziew ::mozoglu ( minmax(min-content , auto) ):ic   #eceuzoli ::nase:zuzodol ( auto )) { line-break: auto; gap: 55% ; padding-inline: 937.3039em; overflow-y: scroll; scroll-padding-inline-end: 10%; }\n::after { font-variant-caps: all-petite-caps; }\n:default { font-language-override: 'famhuluj'; }\n::before { border-start-start-radius: 91%; word-break: keep-all; position: relative; flex-shrink: 3750259121455104; border-block: khaki 812.7088in; }\n:invalid + :last-of-type { align-self: stretch; grid-row: -77% tos / -20% ; }\n:last-child { border-block: outset thick rgb(8464584490876928 , -3194198123610112); text-decoration-style: solid; }\n:link { word-wrap: break-word; background-size: auto; padding-block: 7%; inset-inline-end: 258.7973ex; padding-block: -90.9179vw; }\n:only-child { margin-inline-end: 91%; perspective-origin: right top; text-decoration-style: double; grid-auto-flow: dense; }\n\n}",
        "@media (not (hice)) and (wajeksog:-6607949405356032) {\n  [colspan=monokaivi] { border-image-width: -247.0733vh; }\n:valid { word-break: break-word; border-image-outset: 188.2614vh; flex-wrap: wrap; }\n::selection { scroll-padding-right: 6%; grid-row: auto ; border-bottom-width: thin; all: initial; block-size: auto; }\n:read-only { justify-content: safe right; list-style: none outside; flex-shrink: -4551371944624128; border-top: thick hsl(-4888336636313600 , 88% , 67% , 4%); filter: none; }\n.piemeamu + :nth-child(9n+8 ) { border-bottom-width: thin; animation-fill-mode: forwards; quotes: 'wuffob' 'simikis'; }\n:first-of-type { inset-block-end: 79%; text-orientation: upright; color: #860acc; }\n::backdrop { transition-delay: 592.9436ms; grid-auto-rows: fit-content(49%); scale: none; background-position: left 49%; }\n:first-of-type { border-left-style: groove; margin-inline: -316.8736cm; }\n:not( . fid ::gomu ( start ):fofbuke ( hidden )   [  | ijpe ] ::do ( 2304048594157568 ):idu ( -994.81in )) { scroll-margin-left: -830.966vh; margin-top: 972.514ex; justify-items: first baseline; border-start-start-radius: 76%; flex-direction: column; }\n:lang(rm) { background-image: none; border-image: paint(pomduli , ); border-top: medium; flex-shrink: -5723464715468800; }\n.efki { border-start-end-radius: 34%; }\n:nth-last-of-type(even) { empty-cells: hide; object-fit: cover; grid-template: none; margin-inline-end: 74%; }\n:nth-last-of-type(even) { margin-inline-start: 57%; border-bottom-right-radius: -432.4482mm; flex: content -2592330896900096 ; word-break: break-all; }\n:nth-of-type(odd) { align-items: normal; border-right-width: -269.2864ex; }\n:last-of-type { scroll-snap-stop: normal; }\n, { scroll-margin-left: -653.2528ch; text-emphasis-color: currentcolor; }\n[draggable=moudu] { margin-block-start: auto; text-rendering: geometricPrecision; }\nspan { border-top-width: thin; border-inline-end: lightyellow double medium; grid-row-start: gazwipo; border-top: thick dotted; border-block-style: double; }\n:left { touch-action: none; }\n\n}",
        "@media (naciz:-3200188671852544) or (va < = -56.8476pt) {\n  :target { border-block-start: HighlightText hidden thick; page-break-inside: avoid; }\n::marker { border-inline-end-color: hsla(482.2413rad 58% 4% / 14%); scroll-padding-bottom: 20%; }\n:target { scroll-padding-block-end: auto; }\n:active { border-start-start-radius: 64%; inset-inline-end: auto; filter: none; text-combine-upright: all; font-feature-settings: 'noiljis' ; }\n:left { border-start-end-radius: 799.1492mm; float: none; letter-spacing: normal; }\n::first-letter { mask-size: cover; border-block-start-width: thin; }\n::marker { max-height: fit-content; content: image(rtl url(inofoh) , rgba(4394545802379264 , )) ; }\n:checked { padding-inline-start: 49%; text-align-last: center; counter-reset: devdopo -70%; }\n:last-of-type { font-stretch: extra-expanded; scrollbar-color: light; }\n\n}",
        '@media (seguwse <  jufun <  has) or (ruawatas) {\n  :focus { background-position: left bottom; border-block-end-width: thick; scroll-padding-left: 45%; border-bottom-color: rgb(99% ); }\n::after { border-bottom-left-radius: 93%; }\n:first-child { column-gap: 182.5509Q; font-language-override: normal; background-clip: content-box; content: normal; scroll-margin-inline-end: 575.5798ch; }\n:nth-of-type(even) { font-language-override: normal; }\n:not( | * . wuse ::fefpak:lojofgo >  * #ecufi ::cemet:nabel ( 129.6823px )) { clip: auto; }\n:read-write { inset-inline-start: 53%; font-weight: bolder; font-optical-sizing: auto; }\n:nth-child(odd ) { border-inline-end-color: hsl(8036501640183808 , 76% , 37% , ); }\n:empty { min-width: max-content; font-stretch: ultra-expanded; animation-duration: 957.8629ms; scroll-padding-left: 66%; font-size-adjust: none; }\n:nth-child(3n+3 ) { inline-size:  57%; border-inline-width: thick; object-position: left top; scroll-margin-left: -513.6556vw; }\n:required { scroll-snap-type: both mandatory; transform-style: preserve-3d; border-color: rgba(-3726319137325056 ); text-emphasis-color: rgb(63% ); }\n:right { scroll-snap-align: none; border-bottom-color: rgba(1495943698448384 , 3673966904344576); }\n::cue(:visited) { counter-reset: len ; box-shadow: 547.6691px  ; shape-margin: -560.979vw; white-space: pre-wrap; }\n\n}',
        '@media  siz and (bizi:hetu) and (((vaomasig:975984140484608) or (((fa:800.0373ex)) or (201.0337px < = sumij < = lawac)))) {\n  :nth-of-type(odd) { background-position: -125.6132mm 72%; clip-path: fill-box ellipse(farthest-side ); }\n:required { border-radius: -937.6338px ; border-image-source: cross-fade( radial-gradient(  , currentcolor  , hsl(4110683201339392 41% 50% / 60%)  , rgba(82% ) 389.393vw , rgb(10% , )   , currentcolor 13%) , lawngreen); inset-inline: -826.5896px; }\n\n}',
        "@media only asovovhul and not (barozasiw   3556407353802752) {\n  :enabled { text-transform: none; }\n::selection { transform-style: preserve-3d; grid-row-end: rubon -27%; border-spacing: 121.3544cm ; }\n[cols=kisciam] { scroll-margin-block-end: 323.3104in; perspective-origin: right center; mask-position: left 740.1978vw top 749.4034em; }\n:link { transform-box: view-box; scroll-margin-inline: -859.9406vw; }\nh2 { row-gap: normal; }\n:indeterminate { grid-template: [ ukdijro ] repeat(24% ,  min-content )  / none; }\n::backdrop { padding-left: 178.2171ch; break-before: auto; }\n::first-letter { background: repeating-radial-gradient(ellipse  , ThreeDShadow 47% , 99%, rgba(100% , )  , ThreeDLightShadow 215.4736vmax , -538.6604ch, rgba(-5035272718778368 )  , 83%, hsl(2337871180595200 , 97% , 21% , 93%) 53%  , hsl(516.477grad 70% 100% ) 46%) top  content-box , Highlight repeat-x scroll right / auto; scroll-snap-stop: always; animation-name: none, 'dekla', none, 'ra', icu; scroll-snap-stop: normal; height: auto; }\n:last-child { margin-right: auto; scroll-padding-block-end: 324.224rem; letter-spacing: 728.9858in; }\n:right { inset-inline: auto; table-layout: fixed; border-top-color: currentcolor; border-image-slice: fill 6071092410056704; border-style: groove; }\n::first-line { border-block-start: rgba(6861157549735936 , 47%) none; text-combine-upright: digits ; border-bottom-right-radius: 33%; border-spacing: 487.0165vmin ; }\nstrike { scroll-padding-inline-start: 26%; align-items: normal; caret-color: auto; }\n:only-child { width: max-content; max-width: -480.3929mm; }\n:only-of-type { justify-self: unsafe start; }\n:root { left: 97%; }\n\n}",
        '@media  gusaw  {\n  :scope { transition: cocu steps(95% , end); }\n:invalid { mix-blend-mode: screen; margin-right: auto; float: left; background-origin: border-box; }\n:visited { flex-flow: wrap-reverse; border-top-style: groove; }\ninput { break-after: left; }\n::slotted( fitvef:hodezfak ::mupmoguh ( avoid-page ):zebuwen ( auto )) { left: auto; border-image-source: none; border-left: thick solid currentcolor; }\n:link { animation: running 593.0746ms ease none -6752052520681472 214.6129s; border-top-left-radius: 116.8254ex; border-right-width: thin; border-image-source: none; }\n:optional { column-span: none; margin-left: auto; font-variant-numeric: normal; }\n::slotted( #co ::unjor:zubpocha ( scroll-position )) { image-orientation: 236.3115deg; }\n:read-write { list-style-position: outside; align-self:  center; }\n:link { border-block-style: inset; direction: ltr; animation-name: none, none, none, none, none; }\n::selection { border-inline-start-width: medium; padding: 82%; border-inline-start-width: -665.0349rem; }\n::placeholder + :only-of-type { padding-inline: 3%; }\n:nth-last-of-type(odd) { background-blend-mode: soft-light; left: 418.1211vw; text-align: match-parent; padding-inline-start: 80%; }\n:target { mask-mode: match-source; grid-template-columns: none; }\n\n}',
        "@media only atita and not (cig) {\n  :last-child ::before { border-right: hsla(-635.7642turn 79% 43% / -32503029039104); border-image-source: url(hezulogi); overflow: hidden; background-size: cover; }\n.el { table-layout: fixed; }\n:required { place-items:  self-end ; perspective: none; row-gap: 4%; }\n:not(min | *:mogsewge ( url(wedwiw) ) ::hez ( normal ):piduni ~  [  lez  = 'bensakhig'  ] ::fe ( none ):filsowef) { border-inline: thin groove; justify-content: stretch; }\n::after { scroll-margin-left: -107.2627px; shape-outside: element(#dag); word-break: normal; border-bottom-color: #3b2b65; }\n::marker { animation-timing-function: ease; }\n:default { border-inline-width: thick; border-block-style: dashed; border-block-end-width: medium; }\n:nth-last-of-type(7n+2) { word-break: break-all; unicode-bidi: isolate-override; }\nacronym { column-rule-width: medium; white-space: pre-line; margin-inline: 25%; inset-block-end: 49%; counter-set: none; }\n:link { border-bottom-left-radius: -734.5707in; }\n:read-write > ::marker { perspective: -675.2363vw; border-inline-end-width: 461.659rem; }\n:invalid :dir(rtl) { border-inline-style: dotted; padding: 84%; widows: 89%; flex-grow: 3301103043084288; animation: linear alternate-reverse paused backwards; }\n::first-line { mask-clip: no-clip, no-clip; scroll-padding-bottom: auto; outline-color: invert; margin-bottom: -302.8527Q; }\n::slotted( muvzanwa:kuraw ( 80% ) ::ajaro:te) :nth-of-type(even) { padding-block: -222.8838px; grid-area: -25%  / auto; all: initial; }\n\n}"
      ]
    );
  });

  it('should generate @namespace', () => {
    expect(
      new CssAtRuleGenerator({ type: 'namespace' }).take(10),
      'to equal snapshot',
      [
        '@namespace  url(wosalda) ;',
        '@namespace  url(fopcu) ;',
        "@namespace gafgohrak 'ted' ;",
        "@namespace  'hiapli' ;",
        "@namespace cuval 'ozi' ;",
        "@namespace bave 'tibawha' ;",
        '@namespace miribu url(okonokan) ;',
        '@namespace  url(kuj) ;',
        '@namespace ene url(red) ;',
        '@namespace  url(bu) ;'
      ]
    );
  });

  it('should generate @page', () => {
    expect(
      new CssAtRuleGenerator({ type: 'page' }).take(10),
      'to equal snapshot',
      [
        '@page  {\n  @right-bottom { page-break-inside: avoid; } @bottom-right-corner { grid: none; }  ; border-end-end-radius: 65% \n}',
        '@page  {\n  @left-middle { transform-box: border-box; -webkit-line-clamp: none; word-wrap: normal; mask-position: center left; clear: both; } @bottom-left { background: padding-box right / contain , repeat-x rgb(7965998619557888 , 81%) fixed left  border-box; } @top-right { overflow-wrap: normal; mask-mode: luminance; scroll-padding-inline-start: auto; } font-feature-settings: normal \n}',
        '@page pe:first {\n  @top-center { vertical-align: 78%; } font-kerning: none ; @left-middle { column-span: none; margin-block: 41.6685ch; translate: none; scroll-padding-top: auto; place-self: normal unsafe right; } left: -718.1516in ;  \n}',
        '@page:blank {\n   \n}',
        "@page  {\n  border-inline-start-width: medium ; @left-bottom { mask-composite: add; text-underline-position: auto; object-fit: fill; text-overflow: 'neclekos'; } @left-top { text-decoration-line: overline underline; scroll-snap-align: center; } @bottom-right { scale: none; height:  -949.1618pc; }  \n}",
        '@page riide:first {\n  quotes: none \n}',
        "@page:first {\n  border-image-source: repeating-radial-gradient(closest-side at -626.8599pc 32% , rgb(-2588707953573888 , ) -455.7355ex , -998.9593vmax, hsl(-8881960801796096 , 16% , 51% , -273278849515520)  , -461.1754mm, rgba(-5975537289789440 , )  , 71%, hsla(8498870480797696 25% 97% )  , 424.5412in, rgba(8966495543492608 )  , 50% , hsla(-3987550834262016 34% 91% / 3255300119330816) ) ;  ; @top-right { outline-offset: -838.2934vh; flex-flow: column; scroll-margin-inline-end: -264.4337pt; } @right-bottom { font-language-override: 'avkiwa'; shape-image-threshold: 1637381736235008; column-span: all; border-right-color: rgb(51% , -2726191219867648); } @top-left { transform-origin: center bottom -724.9582rem; } border-block-start-style: dotted ; @right-middle { border-top-width: 319.9681em; scroll-padding-block: 52%; isolation: auto; border-top: medium outset Menu; }  \n}",
        '@page  {\n  @left-middle { text-emphasis-color: currentcolor; text-decoration-line: none; scroll-behavior: smooth; min-inline-size: fit-content; border-block-color: ButtonFace; } @right-middle { mask-composite: intersect; align-self: normal; border-block-end-style: outset; orphans: 95%; }  \n}',
        '@page  {\n  @bottom-center { grid-area:  43% / auto; border-style: solid; column-span: none; place-self: normal last baseline; } @top-right-corner { left: 17.6282mm; min-block-size: 25%; border-top-color: #f91738; } @bottom-left { text-emphasis: currentcolor triangle filled; shape-outside: none; border-spacing: 444.9043pt ; } @top-left-corner { min-width: -645.7787vw; transform-origin: bottom; break-inside: avoid-region; text-decoration-color: hsl(8161816697896960 , 93% , 33% , ); } @right-bottom { translate: 7% ; column-count: -62%; scroll-snap-stop: normal; }  \n}',
        '@page  {\n  @bottom-left { scroll-padding-top: 57%; background-repeat: repeat-x; border-left-style: groove; outline-offset: 980.1078mm; border-color: hsl(6798148865359872 , 32% , 74% , 13%); } @left-middle { list-style: none; font-variant: jis90 all-petite-caps slashed-zero discretionary-ligatures swash(vahfi) no-common-ligatures; } margin-left: auto \n}'
      ]
    );
  });

  it('should generate @supports', () => {
    expect(
      new CssAtRuleGenerator({ type: 'supports' }).take(10),
      'to equal snapshot',
      [
        '@supports (zin none, padding bottom / contain border, url(jom)) and ((not selector( #uj ::apli:cuval ( -973.4701vw ) ||  * . ho ::dolbaw:vo)) and ((line-break: normal) and (not (okonokan read-write)))) {\n  ::placeholder { scroll-padding-top: auto; place-self: normal unsafe right; }\n\n}',
        "@supports not selector( #fab ::mahbu ( space-evenly ):sawtaevo ( strict )   . kos ::inla ( isolate-override ):respawic ( none, none, none )) {\n  :only-of-type { column-rule: hidden rgba(41% , 20%); border-spacing: 885.7072cm -420.4971rem; border-image-source: repeating-radial-gradient(closest-side at -626.8599pc 32% , rgb(-2588707953573888 , ) -455.7355ex , -998.9593vmax, hsl(-8881960801796096 , 16% , 51% , -273278849515520)  , -461.1754mm, rgba(-5975537289789440 , )  , 71%, hsla(8498870480797696 25% 97% )  , 424.5412in, rgba(8966495543492608 )  , 50% , hsla(-3987550834262016 34% 91% / 3255300119330816) ); }\n:link { grid-area: heajiupe 7% span / span 2% bun; column-span: all; border-right-color: rgb(51% , -2726191219867648); }\n:only-of-type { border-inline-style: outset; }\n:read-only { font: menu; transform: translateX(34%); }\n:right { border-left-style: outset; }\n:not( * #azpig ::uwivoke:ewumovecu  * | * #opbed ::viuga:pe ( space )) { object-fit: none; scroll-snap-align: end; }\n:optional { margin-block: 9%; inset: 64%; }\n:disabled { border-top-color: #f91738; widows: -21%; }\n:last-of-type { text-indent:  65% each-line; outline-color: currentcolor; border-inline-start-style: dotted; padding-top: -438.4553px; animation-duration: 537.1081s; }\n#olu { text-overflow: 'buwmi'; unicode-bidi: bidi-override; }\n::placeholder { scroll-snap-type: none; clip-path: url(egpa); flex-grow: 1023240625455104; font-kerning: none; scroll-padding-top: 57%; }\n[tabindex=vuj] { border-top-style: double; }\n:enabled { column-rule-width: medium; scroll-snap-align: end; border-collapse: separate; padding-inline-end: 105.64in; clip-path: none; }\n:in-range { border-top-width: thick; mask-mode: match-source; border-block: thick hidden; object-fit: fill; padding-block-start: 591.5854ch; }\n::cue(:first-of-type) { flex-shrink: 1420703647662080; }\n, { margin-bottom: auto; animation-name: none, none; left: auto; }\n:enabled { margin-left: auto; animation-iteration-count: infinite; animation-play-state: running; scroll-padding-block-start: auto; filter: drop-shadow(44.4865vmax hsl(245.781grad 8% 85% )); }\n:active { font-stretch: semi-expanded; padding-block-end: 13%; page-break-after: auto; }\n\n}",
        '@supports (bojiza center) or wocafig ( padding-box ) {\n  :read-write { order: 87%; }\n:empty { transition-duration: 33.3925s; opacity: 979155629899776; font-variant-position: sub; page-break-inside: auto; }\n\n}',
        "@supports not ((resize: none) and ((not (not (not (nazinef table-caption)))) and (mask-position: top -250.7748ch right 50%))) {\n  ::backdrop { order: 37%; border-image-width: -7735945746972672; transform-style: preserve-3d; }\n::marker { tab-size: 272.8072vw; }\n:valid { outline-width: thin; margin-block-end: 12%; grid-auto-rows: fit-content(82%); }\n::marker { font: small-caption; translate: 20% ; break-after: auto; border-radius: -245.4818ch ; }\n, { overflow-wrap: break-word; background-repeat: repeat-y; column-rule-style: dashed; scroll-padding-top: -318.7509vmax; }\n:disabled { hyphens: none; padding: 35%; }\n:only-child { text-combine-upright: none; perspective: none; scroll-margin-inline-end: 935.1612in; line-break: auto; font-variant-caps: unicase; }\n:nth-last-child(odd of  * #ziew ::mozoglu ( minmax(min-content , auto) ):ic   #eceuzoli ::nase:zuzodol ( auto )) { line-break: auto; gap: 55% ; padding-inline: 937.3039em; overflow-y: scroll; scroll-padding-inline-end: 10%; }\n::after { font-variant-caps: all-petite-caps; }\n:default { font-language-override: 'famhuluj'; }\n::before { border-start-start-radius: 91%; word-break: keep-all; position: relative; flex-shrink: 3750259121455104; border-block: khaki 812.7088in; }\n\n}",
        '@supports not (border-top-style: none) {\n  :last-child { background-clip: content-box; border-bottom: medium ridge magenta; border-style: outset; }\n:indeterminate { grid-template: none; border-block: outset thick rgb(8464584490876928 , -3194198123610112); }\n::cue { text-transform: full-size-kana; text-shadow: none; border-top-style: double; }\n:read-only { block-size: max-content; border-inline: thin outset; mask-type: alpha; margin-inline-end: 91%; perspective-origin: right top; }\n::cue { border-block-start: hidden medium; grid-column-end: selu; border-width: thick; }\n:lang(pl) { justify-items: stretch; }\n:first { scroll-margin-top: 205.5638rem; box-sizing: content-box; border-bottom-width: thick; }\n[colspan=monokaivi] { border-image-width: -247.0733vh; }\n:valid { word-break: break-word; border-image-outset: 188.2614vh; flex-wrap: wrap; }\n\n}',
        "@supports (cibfe 5%) or ((zuwsos full-width) or ne ( none )) {\n  :empty { border-left-style: dotted; text-combine-upright: digits 24%; background: 52% center / contain radial-gradient( at left -942.4347pc bottom 62% , purple  , 234.5275ch, GrayText 64% , #6ffe5b  , 35%, #8394d0  , 40% , hsl(724.7275rad , 95% , 80% , ) ) content-box , repeat-y fixed none hsl(159.2999deg 34% 7% / -718429287874560) border-box padding-box; border-image-outset: -722.3457rem; }\n:only-of-type { border-inline-end-color: ghostwhite; }\n:indeterminate { text-align-last: left; inset-block-end: auto; white-space: normal; mask-clip: margin-box; border-inline-end: -822.595px rgb(46% , ); }\n:checked { flex-basis: content; image-rendering: auto; overflow-y: hidden; animation-timing-function: linear; scroll-margin-inline-start: -37.7092Q; }\n:read-only { inset-block: auto; }\n::first-line :focus { -webkit-line-clamp: none; }\n::before { border-block-color: mediumaquamarine; border-inline-end-style: outset; border-left-style: double; flex-flow: column wrap-reverse; flex-direction: column; }\n:lang(rm) { background-image: none; border-image: paint(pomduli , ); border-top: medium; flex-shrink: -5723464715468800; }\n.efki { border-start-end-radius: 34%; }\n:nth-last-of-type(even) { empty-cells: hide; object-fit: cover; grid-template: none; margin-inline-end: 74%; }\n:nth-last-of-type(even) { margin-inline-start: 57%; border-bottom-right-radius: -432.4482mm; flex: content -2592330896900096 ; word-break: break-all; }\n:nth-of-type(odd) { align-items: normal; border-right-width: -269.2864ex; }\n:last-of-type { scroll-snap-stop: normal; }\n, { scroll-margin-left: -653.2528ch; text-emphasis-color: currentcolor; }\n[draggable=moudu] { margin-block-start: auto; text-rendering: geometricPrecision; }\nspan { border-top-width: thin; border-inline-end: lightyellow double medium; grid-row-start: gazwipo; border-top: thick dotted; border-block-style: double; }\n:left { touch-action: none; }\n:first-child { margin-right: -261.5391mm; grid-auto-flow: dense; background-origin: padding-box; }\n::slotted( . dedbodnin ::duesudu:gajossav ( 655.8818vh )) { border-left: 629.1495ex groove lightseagreen; text-justify: inter-character; column-rule-color: InfoText; font-feature-settings: 'noiljis' ; }\n:left { border-start-end-radius: 799.1492mm; float: none; letter-spacing: normal; }\n\n}",
        '@supports ((font-variant-ligatures: historical-ligatures contextual) and (rosoz below -503.0218vh image(  , papayawhip))) or selector( devdopo [  wo ] ::son ( 25% ):guwse ( inline-axis )  :sam ( none ) ::inu:wowwo) {\n  :scope { flex-grow: 1922407468105728; background-position: left bottom; border-block-end-width: thick; }\n::after { text-orientation: upright; border-bottom-color: rgb(99% ); scroll-padding-left: auto; border-bottom-left-radius: 93%; columns: 182.5509Q -24%; }\n* { content: normal; scroll-margin-inline-end: 575.5798ch; mask-composite: subtract; border-block-start-width: thin; }\n:indeterminate { shape-outside: repeating-linear-gradient( , hsla(-95.5641rad , 22% , 3% , ) -503.5471em , -668.9734pc, rgb(-3396197473583104 , ) 28% , -973.8111ex , lightsalmon ); white-space: pre-line; grid-auto-rows: min-content; }\n\n}',
        '@supports gihkak ( break-word ) and (go ( auto ) or selector( * . nimnikro ::ku:legtikbud ~  * #hevi ::kogup:dug ( keep-all ))) {\n  ::backdrop { scroll-padding-inline: 888.8195rem; border-color: rgba(-3726319137325056 ); text-emphasis-color: rgb(63% ); perspective-origin: left bottom; margin-inline-end: 42%; }\n:read-write { text-orientation: sideways; mask-type: luminance; content: normal; scroll-padding-block-end: auto; flex: 5956542046142464 -2788770432679936; }\n:indeterminate { line-height: -1150642269716480; shape-margin: -560.979vw; white-space: pre-wrap; scroll-behavior: auto; }\n::before + :nth-child(even of  | bizi [  fo ^ = ifo  ] ::oma ( space-between ):ri +  * #fe ::wig ( isolate ):sumij ( 42% )) { display: flow block; }\n:nth-of-type(odd) { background-position: -125.6132mm 72%; clip-path: fill-box ellipse(farthest-side ); }\n:required { border-radius: -937.6338px ; border-image-source: cross-fade( radial-gradient(  , currentcolor  , hsl(4110683201339392 41% 50% / 60%)  , rgba(82% ) 389.393vw , rgb(10% , )   , currentcolor 13%) , lawngreen); inset-inline: -826.5896px; }\n::placeholder { resize: block; min-height: fit-content; resize: vertical; page-break-after: right; min-height: fit-content; }\n::selection { text-emphasis-style: open dot; transform-style: preserve-3d; }\n#suz { list-style-image: none; }\n:last-child { column-rule: medium; page-break-inside: auto; border-inline-start-color: Background; visibility: hidden; transform-style: preserve-3d; }\n:last-child { shape-outside: none; scroll-padding-top: auto; column-rule-style: double; scroll-padding-inline: 300.3347px; }\n:fullscreen { list-style-position: inside; grid-template-areas: none; }\n::cue(:link) { font-weight: lighter; font-size: large; }\n\n}',
        "@supports not (vespuk 23%) {\n  .ubagij { touch-action: manipulation; background-repeat: repeat; direction: ltr; row-gap: normal; font-optical-sizing: auto; }\n:last-child { mask-type: alpha; text-align: end; will-change: auto; }\n:scope { font-variant: none; }\n:in-range { perspective-origin: left -290.7557in top 29%; padding-left: 178.2171ch; break-before: auto; }\n::first-letter { background: repeating-radial-gradient(ellipse  , ThreeDShadow 47% , 99%, rgba(100% , )  , ThreeDLightShadow 215.4736vmax , -538.6604ch, rgba(-5035272718778368 )  , 83%, hsl(2337871180595200 , 97% , 21% , 93%) 53%  , hsl(516.477grad 70% 100% ) 46%) top  content-box , Highlight repeat-x scroll right / auto; scroll-snap-stop: always; animation-name: none, 'dekla', none, 'ra', icu; scroll-snap-stop: normal; height: auto; }\n:last-child { margin-right: auto; scroll-padding-block-end: 324.224rem; letter-spacing: 728.9858in; }\n:right { inset-inline: auto; table-layout: fixed; border-top-color: currentcolor; border-image-slice: fill 6071092410056704; border-style: groove; }\n::first-line { border-block-start: rgba(6861157549735936 , 47%) none; text-combine-upright: digits ; border-bottom-right-radius: 33%; border-spacing: 487.0165vmin ; }\nstrike { scroll-padding-inline-start: 26%; align-items: normal; caret-color: auto; }\n\n}",
        "@supports (selector( . bitdah ::muv ( thin ):zat ( auto ) || :zar ::cocu ( 68% ):tanlac ( 'lizerna' )) or ((nuro none) and (not hodezfak ( invert )))) and ukonume ( 4042839449141248 ) {\n  :right { border-inline-start-width: 736.2457Q; padding-left: 125.5006vmax; }\n:last-child { left: auto; border-image-source: none; border-left: thick solid currentcolor; }\n:link { animation: running 593.0746ms ease none -6752052520681472 214.6129s; border-top-left-radius: 116.8254ex; border-right-width: thin; border-image-source: none; }\n:optional { column-span: none; margin-left: auto; font-variant-numeric: normal; }\n::slotted( #co ::unjor:zubpocha ( scroll-position )) { image-orientation: 236.3115deg; }\n\n}"
      ]
    );
  });

  it('should generate @viewport', () => {
    expect(
      new CssAtRuleGenerator({ type: 'viewport' }).take(10),
      'to equal snapshot',
      [
        '@viewport {\n  :target { border-inline-end-style: ridge; scroll-behavior: smooth; margin-top: -108.3345em; border-block-end-style: none; grid-auto-rows: fit-content(202.23em); }\n:read-write { animation-delay: -887.1769s; padding-top: 94%; border-left-width: -636.3501vw; border-inline-end-style: groove; }\n:first { inset-inline-end: -136.11ch; clear: both; mask-mode: luminance; border-color: rgb(8534420776550400 ); }\n:default { border-block-width: thick; mask-position: bottom; margin-right: 4%; }\n::backdrop { overflow: visible; grid-auto-columns: 95%; unicode-bidi: bidi-override; scroll-margin-right: -229.167in; }\nbdo { overflow-wrap: normal; font-weight: lighter; }\n:nth-of-type(even) ~ :visited { border-inline-color: Highlight; }\n:disabled { orphans: 51%; }\n\n}',
        '@viewport {\n  :in-range { border-left-style: double; margin-block: -937.3735vw; scroll-padding-right: 878.9979mm; }\n::cue(:nth-last-of-type(odd)) { column-span: none; margin-block: 41.6685ch; translate: none; scroll-padding-top: auto; place-self: normal unsafe right; }\n:empty { left: -718.1516in; scroll-margin-inline-end: -669.4662cm; animation: infinite backwards 422.6839s 580.3511s ease alternate-reverse running epidako; column-span: all; }\n:required { min-height: 89%; list-style-position: inside; float: left; }\n::selection { scroll-snap-align: center; padding-top: 23%; scale: none; height:  -949.1618pc; }\n:checked + .nenvudsi { quotes: none; border-spacing: 885.7072cm -420.4971rem; border-image-source: repeating-radial-gradient(closest-side at -626.8599pc 32% , rgb(-2588707953573888 , ) -455.7355ex , -998.9593vmax, hsl(-8881960801796096 , 16% , 51% , -273278849515520)  , -461.1754mm, rgba(-5975537289789440 , )  , 71%, hsla(8498870480797696 25% 97% )  , 424.5412in, rgba(8966495543492608 )  , 50% , hsla(-3987550834262016 34% 91% / 3255300119330816) ); }\n:link { grid-area: heajiupe 7% span / span 2% bun; column-span: all; border-right-color: rgb(51% , -2726191219867648); }\n\n}',
        "@viewport {\n  , { transform-origin: center bottom -724.9582rem; }\n:first-of-type { border-block-start-style: dotted; text-transform: lowercase; text-combine-upright: digits ; border-spacing: 319.9681em 964.3367px; }\n:left { border-width: 992.5074cm; unicode-bidi: plaintext; list-style-image: none; }\n::before { border-inline-end-width: thin; break-before: avoid-page; padding-block-start: 85%; text-emphasis-color: currentcolor; }\n::cue { text-decoration-line: underline line-through blink overline; text-emphasis-position: left over; flex-flow: wrap; white-space: normal; }\n:enabled { column-count: auto; }\n:last-of-type { grid-area:  43% / auto; border-style: solid; column-span: none; place-self: normal last baseline; }\n:optional { margin-block: 9%; inset: 64%; }\n:disabled { border-top-color: #f91738; widows: -21%; }\n:last-of-type { text-indent:  65% each-line; outline-color: currentcolor; border-inline-start-style: dotted; padding-top: -438.4553px; animation-duration: 537.1081s; }\n#olu { text-overflow: 'buwmi'; unicode-bidi: bidi-override; }\n::placeholder { scroll-snap-type: none; clip-path: url(egpa); flex-grow: 1023240625455104; font-kerning: none; scroll-padding-top: 57%; }\n[tabindex=vuj] { border-top-style: double; }\n\n}",
        '@viewport {\n  ::before { place-content: unsafe flex-start space-evenly; clip: rect(618.7223pc , 620.2268ex , 734.1447Q , 826.4812cm); }\n:left { image-rendering: crisp-edges; }\n:target { object-fit: fill; }\n:read-write { scroll-margin-bottom: -898.463vmin; text-decoration-line: none; }\n.dinbel { left: auto; }\n:enabled { margin-left: auto; animation-iteration-count: infinite; animation-play-state: running; scroll-padding-block-start: auto; filter: drop-shadow(44.4865vmax hsl(245.781grad 8% 85% )); }\n\n}',
        '@viewport {\n  :link { left: auto; min-height: 452.1827cm; white-space: pre-line; }\n:left { column-rule-width: 590.3724mm; box-sizing: content-box; font-weight: lighter; border: 925.2969cm; }\n::after { padding-block: 41%; background-color: rgba(-6189080085790720 , ); border-top-right-radius: 98.4533cm; }\n:read-write { order: 87%; }\n\n}',
        '@viewport {\n  :only-of-type { inset-block-start: auto; opacity: 979155629899776; font-variant-position: sub; page-break-inside: auto; background: fixed left  , hsl(407.3157deg , 47% , 1% , ); }\n:root { scroll-margin-left: -53.0565mm; border-inline-color: hsla(-202.9905deg 62% 95% / 4%); border-width: thin; }\nobject { image-rendering: crisp-edges; shape-image-threshold: 709361055825920; order: 37%; border-image-width: -7735945746972672; transform-style: preserve-3d; }\n::marker { tab-size: 272.8072vw; }\n:valid { outline-width: thin; margin-block-end: 12%; grid-auto-rows: fit-content(82%); }\n::marker { font: small-caption; translate: 20% ; break-after: auto; border-radius: -245.4818ch ; }\n\n}',
        '@viewport {\n  :only-child { counter-increment: lubet ; break-inside: avoid-page; border-bottom: ThreeDShadow 470.1421pc inset; vertical-align: super; }\n:not( . anumajzi ::rugvozec:pitkedeb   | * . oru ::tade:ves ( left under )) { height: auto; background-color: InfoBackground; background-clip: padding-box; perspective-origin: bottom 937.3039em right 84%; mask-position: left 401.9383ex top 643.7201vmin; }\n\n}',
        '@viewport {\n  [readonly=un] > :focus { flex-flow: wrap-reverse column-reverse; word-break: keep-all; position: relative; flex-shrink: 3750259121455104; border-block: khaki 812.7088in; }\n:invalid + :last-of-type { align-self: stretch; grid-row: -77% tos / -20% ; }\n:last-child { border-block: outset thick rgb(8464584490876928 , -3194198123610112); text-decoration-style: solid; }\n:link { word-wrap: break-word; background-size: auto; padding-block: 7%; inset-inline-end: 258.7973ex; padding-block: -90.9179vw; }\n:only-child { margin-inline-end: 91%; perspective-origin: right top; text-decoration-style: double; grid-auto-flow: dense; }\n:first-of-type { border-inline-end: solid; font-family: lu, bihmu; }\n:nth-of-type(odd) { border-image-width: 7%; scroll-padding-block-start: 42%; }\n:required { mask-origin: view-box; font-variant: normal; touch-action: manipulation; }\n::backdrop { background: none , padding-box local center 85% / contain; background-origin: padding-box; animation-play-state: running; }\n:empty > aside { shape-outside: cross-fade(cross-fade(element(#wusleg)  , )  , ); }\n::placeholder { mask-composite: add; border-spacing: 756.4414rem 236.2565ch; }\n:fullscreen { border-block-start-style: none; outline-offset: -3.6696pt; }\n:last-child { scroll-padding-inline: 704.363vmax; line-height: 56%; border-block-style: inset; scroll-margin-block-end: -193.0343px; }\n:last-child > .apoafu { mask-position: center center; }\n:hover { font-variant-position: normal; text-indent: each-line 567.3061vmin ; color: #860acc; }\n\n}',
        "@viewport {\n  :read-only { scroll-margin-inline: -705.8531pc; text-underline-position: left; background-position: left 49%; cursor: url(ti)  , alias; block-size: max-content; }\n:lang(ce) ~ :nth-last-of-type(5n+2) { min-inline-size: 18%; padding-block: -176.6776vmin; text-align-last: left; inset-block-end: auto; }\n::selection { mask-clip: margin-box; }\n:first-of-type || :empty { border-inline-style: none; border-block-style: double; }\n:not( . lam ::baporpu:caetzi   | holilzab #wo ::zibelre ( none ):gakufki) ~ :default ~ ::cue { grid-row-end: 30% ; grid-template: none; margin-inline-end: 74%; }\n:nth-last-of-type(even) { margin-inline-start: 57%; border-bottom-right-radius: -432.4482mm; flex: content -2592330896900096 ; word-break: break-all; }\n:nth-of-type(odd) { align-items: normal; border-right-width: -269.2864ex; }\n:last-of-type { scroll-snap-stop: normal; }\n, { scroll-margin-left: -653.2528ch; text-emphasis-color: currentcolor; }\n[draggable=moudu] { margin-block-start: auto; text-rendering: geometricPrecision; }\nspan { border-top-width: thin; border-inline-end: lightyellow double medium; grid-row-start: gazwipo; border-top: thick dotted; border-block-style: double; }\n:left { touch-action: none; }\n:first-child { margin-right: -261.5391mm; grid-auto-flow: dense; background-origin: padding-box; }\n::slotted( . dedbodnin ::duesudu:gajossav ( 655.8818vh )) { border-left: 629.1495ex groove lightseagreen; text-justify: inter-character; column-rule-color: InfoText; font-feature-settings: 'noiljis' ; }\n:left { border-start-end-radius: 799.1492mm; float: none; letter-spacing: normal; }\n::first-letter { mask-size: cover; border-block-start-width: thin; }\n::marker { max-height: fit-content; content: image(rtl url(inofoh) , rgba(4394545802379264 , )) ; }\n:checked { padding-inline-start: 49%; text-align-last: center; counter-reset: devdopo -70%; }\n\n}",
        '@viewport {\n  :default { padding-top: 72%; all: unset; mask: margin-box match-source subtract left   fill-box; }\n::marker { border-image-repeat: space; margin-inline-start: 11.7774cm; mask-mode: alpha; animation-delay: 452.1912s; }\n:nth-last-of-type(odd) { margin: auto; }\n:read-only { text-transform: none; padding-inline: 15%; scale: -2261971244154880; mask-image: none; }\n:in-range { perspective-origin: bottom center; }\n:dir(rtl) + ::after :active ~ ::after ~ ::first-line { table-layout: auto; inset-block-start: 182.5509Q; }\n:hover { background-clip: content-box; content: normal; }\n:valid { align-content: space-around; border-block-start-width: thin; font-synthesis: style weight; cursor: url(ponig)  , not-allowed; }\n::first-letter { border-top-left-radius: 155.2639pt; }\n:in-range #lojofgo { border-inline-width: thick; translate: none; border-image:  30% / 499.921pc stretch; }\n\n}'
      ]
    );
  });

  describe('without a name', () => {
    it('should generate any at-rule', () => {
      expect(new CssAtRuleGenerator().take(10), 'to equal snapshot', [
        '@import url(wosalda)  ;',
        '@supports (padding-inline: 2%) and ((bagohrak fauj, none) or (scroll-margin-block: 236.772em)) {\n  :left { margin-right: 4%; shape-margin: 68%; border-inline-end: thick InfoBackground; scroll-margin-right: -229.167in; animation: step-start; }\n:invalid { border-bottom-color: #7ec3e9; scroll-padding-inline-start: auto; border-inline-color: Highlight; border-width: 325.0446vh; }\n:first { inset-inline: 93.4206px; border-inline-end-style: none; vertical-align: 78%; }\n:invalid { font-kerning: none; text-underline-position: left under; margin-block: 41.6685ch; translate: none; scroll-padding-top: auto; }\n:right { justify-self: unsafe right; break-inside: avoid-column; }\n:not( #fab ::mahbu ( space-evenly ):sawtaevo ( strict )   . kos ::inla ( isolate-override ):respawic ( none, none, none )) { min-block-size: max-content; column-rule: hidden rgba(41% , 20%); border-spacing: 885.7072cm -420.4971rem; border-image-source: repeating-radial-gradient(closest-side at -626.8599pc 32% , rgb(-2588707953573888 , ) -455.7355ex , -998.9593vmax, hsl(-8881960801796096 , 16% , 51% , -273278849515520)  , -461.1754mm, rgba(-5975537289789440 , )  , 71%, hsla(8498870480797696 25% 97% )  , 424.5412in, rgba(8966495543492608 )  , 50% , hsla(-3987550834262016 34% 91% / 3255300119330816) ); isolation: auto; }\n:invalid { list-style: outside; border: ridge thick hsl(966.8463rad 40% 54% / 5374507925635072); scroll-padding-inline-end: auto; column-rule-style: double; border-inline-end-width: medium; }\n#kofwihep { border-inline-style: outset; }\n\n}',
        "@namespace  'edowa' ;",
        "@font-face {\n  font-feature-settings:'hezuw' off ; font-weight:2397742777237504 ; font-style:normal ; src:url(wuwiko) format('cudiro'), local('opbed') ; font-variation-settings:normal ; unicode-range:U+8c79-dc68 ; font-family:wa ; font-stretch:extra-condensed ; font-variant:none ;\n}",
        "@font-feature-values 'towohram' {\n  @styleset { heuze:-3% ; }\n}",
        "@supports (scroll-margin-bottom: -299.8432pt) or selector( | pen #caznuhijo ::kimsuzceh:jel   [ * | cafvujhi ] ::zuforre:agtucbip) {\n  :active { background-repeat: space; scroll-margin-bottom: -898.463vmin; text-decoration-line: none; animation-fill-mode: forwards; }\n:nth-last-child(5n+6 of  . ruen ::ba ( none ):kizef ~  #girofod ::webmekza ( center ):mor ( auto )) { text-overflow: clip; }\n:invalid { border-style: double; border-block-end: thin groove InactiveCaptionText; }\n:right { list-style: inside url(fobe); border-block-start-width: -907.9948cm; animation-timing-function: linear; scroll-snap-type: inline ; }\n:last-child { border-block-end-color: currentcolor; }\n:last-of-type { grid-row-end: mo; font-language-override: normal; mask-position: top -250.7748ch right 50%; image-orientation: 317.3873rad flip; border-image-width: -7735945746972672; }\n::marker { transform-style: flat; tab-size: 272.8072vw; scroll-margin-inline-start: 150.9484rem; font-family: serif, opeupu, 'ga'; }\n:focus { animation-play-state: running; }\n:only-child { counter-increment: lubet ; break-inside: avoid-page; border-bottom: ThreeDShadow 470.1421pc inset; vertical-align: super; }\n:not( . anumajzi ::rugvozec:pitkedeb   | * . oru ::tade:ves ( left under )) { height: auto; background-color: InfoBackground; background-clip: padding-box; perspective-origin: bottom 937.3039em right 84%; mask-position: left 401.9383ex top 643.7201vmin; }\n:read-write { border-block: medium hsl(6851956031094784 , 82% , 23% , 99%); }\n:nth-last-of-type(odd) { flex-shrink: 3750259121455104; border-block: khaki 812.7088in; }\n:invalid + :last-of-type { align-self: stretch; grid-row: -77% tos / -20% ; }\n:last-child { border-block: outset thick rgb(8464584490876928 , -3194198123610112); text-decoration-style: solid; }\n:link { word-wrap: break-word; background-size: auto; padding-block: 7%; inset-inline-end: 258.7973ex; padding-block: -90.9179vw; }\n:only-child { margin-inline-end: 91%; perspective-origin: right top; text-decoration-style: double; grid-auto-flow: dense; }\n\n}",
        "@font-feature-values 'ti' {\n  @styleset { selu:-48% ; }\n}",
        "@viewport {\n  :read-only { justify-items: stretch; }\n:first { scroll-margin-top: 205.5638rem; box-sizing: content-box; border-bottom-width: thick; }\n[colspan=monokaivi] { border-image-width: -247.0733vh; }\n:valid { word-break: break-word; border-image-outset: 188.2614vh; flex-wrap: wrap; }\n::selection { scroll-padding-right: 6%; grid-row: auto ; border-bottom-width: thin; all: initial; block-size: auto; }\n:read-only { justify-content: safe right; list-style: none outside; flex-shrink: -4551371944624128; border-top: thick hsl(-4888336636313600 , 88% , 67% , 4%); filter: none; }\n.piemeamu + :nth-child(9n+8 ) { border-bottom-width: thin; animation-fill-mode: forwards; quotes: 'wuffob' 'simikis'; }\n:first-of-type { inset-block-end: 79%; text-orientation: upright; color: #860acc; }\n::backdrop { transition-delay: 592.9436ms; grid-auto-rows: fit-content(49%); scale: none; background-position: left 49%; }\n:first-of-type { border-left-style: groove; margin-inline: -316.8736cm; }\n\n}",
        '@keyframes safo {\n  to {\n  border-inline-end-color: ghostwhite;\n}\n}',
        '@import url(pofofbu)  ;'
      ]);
    });
  });
});
