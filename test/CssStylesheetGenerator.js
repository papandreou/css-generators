const expect = require('unexpected')
  .clone()
  .use(require('unexpected-snapshot'))
  .use(require('magicpen-prism'));
const chanceCache = require('chance-generators/lib/chanceCache');

const CssStylesheetGenerator = require('../lib/CssStylesheetGenerator');

describe('CssStylesheetGenerator', () => {
  beforeEach(() => chanceCache.clear());

  it('should generate a CSS declaration list', () => {
    expect(new CssStylesheetGenerator().take(10), 'to equal snapshot', [
      "@keyframes sidfanu { to { border-end-end-radius: 65%; animation-delay: -887.1769s; padding-top: 94%; border-left-width: -636.3501vw; } }\n:active { column-count: auto; inset-inline-end: -136.11ch; clear: both; mask-mode: luminance; }\n#lel :target + :only-child { float: none; }\n::slotted(sof | * . ow ::lebho hsla(1981523607683072 , 50% , 84% , -5884139412652032) ):gokim 93.4206s )) { animation-iteration-count: 6166054300549120; }\n:scope { transform-box: fill-box; text-emphasis: GrayText none; margin-block: 41.6685ch; }\n::placeholder { scroll-padding-top: auto; place-self: normal stretch; }\n:visited { empty-cells: hide; break-inside: avoid-column; left: -718.1516in; }\n:valid { background-size: auto; }\n:in-range { font-kerning: auto; clip: rect(-971.8404vmax , -602.3152rem , 422.6839rem , 580.3511vh); mask-composite: add; text-underline-position: auto; }\n:optional { text-overflow: 'neclekos'; }\n:nth-last-of-type(even) { text-decoration-line: overline underline; scroll-snap-align: center; }\n:required { border-start-start-radius: 25%; height: border-box -949.1618pc; border-block-start: thick; }\n:only-of-type { column-rule: hidden rgba(41% , 76%); border-left: rgb(29% , 16%); text-decoration: dashed rgb(-783003563327488 , 22%) none; }\n:in-range { text-decoration-color: #530846; scroll-margin-left: -755.8241vmin; empty-cells: show; text-indent: 43% each-line hanging; -webkit-line-clamp: -30%; }\n::backdrop { align-items: normal; inset-block: 42%; }\n:last-of-type { padding: -461.1754mm; border-top-color: ButtonFace; }\n:first-of-type { inset-block-start: 71%; font-size: larger; }\n",
      "@keyframes poh { from { z-index: auto; box-decoration-break: clone; } }\n@keyframes 'beip' { from { border-end-start-radius: 49%; grid-area: heajiupe 7% span / span 2% bun; column-span: all; border-right-color: rgb(51% , 22%); } }\n@charset \"IBM274\" ;\n:active + ::marker { font-language-override: normal; inset-block-start: auto; scroll-padding-inline-end: auto; outline-width: thin; }\n:right { border-left-style: outset; }\n:not(* | * . guz ::hezuw [ gehwoivu ] 'ipuod' fit-content(67%) [ becvub ] / [ ki ] minmax(max-content , min-content) [ harhi ] ):los || * | * . dijjeg ::miwtitpo snap from-image 722.4521dpi ):zogu) { grid-row: span -97% kimsuzceh / jel; border-inline-end: inset medium; top: 7%; border-block-end-color: rgba(67% , 36%); border-color: hsl(6798148865359872 , 32% , 74% , 70%); }\n:read-write :read-write { list-style: none; font-variant: jis90 all-petite-caps slashed-zero discretionary-ligatures swash(vahfi) no-common-ligatures; }\n:enabled { margin-left: auto; animation-iteration-count: infinite; animation-play-state: running; scroll-padding-block-start: auto; filter: drop-shadow(44.4865vmax currentcolor); }\n:enabled { unicode-bidi: bidi-override; grid-auto-rows: auto; }\n",
      ':not(* | fodumobo . no ::gu:wocafig > vutuwom | * . maglas ::da:ku) { padding-bottom: -51.6523ch; border-block-end-color: currentcolor; hanging-punctuation: force-end first; object-fit: contain; background-attachment: fixed; }\n::marker { text-decoration-line: none; border-width: thin; animation: obututven -6692342744481792 running alternate-reverse 91.2336s step-end; font: small-caption; }\n::placeholder { text-indent: -570.8218cm each-line hanging; flex-shrink: -8678944026918912; animation-play-state: running; mask-position: right -229.2068vmax bottom -318.7509vmax; }\n:empty { hyphens: none; padding: 35%; }\n',
      "@keyframes azrazi { 58% { page-break-inside: auto; border-bottom-right-radius: -499.9671vh; margin-inline: 87%; top: 86%; border-style: solid; } }\n@keyframes 'hajrilleh' { 10% { background-blend-mode: normal; transition-timing-function: steps(-82% , jump-none); } }\n:first-child { transition-delay: 353.5398s; grid-template-areas: 'cicse'; list-style: none outside none; border-block-start-style: none; top: 98%; }\n* { line-break: auto; gap: 55% normal; padding-inline: 937.3039em; overflow-y: scroll; scroll-padding-inline-end: 10%; }\n::after { font-variant-caps: all-petite-caps; }\n:dir(ltr) { scroll-padding-block-start: 14%; border-block: medium hsl(6851956031094784 , 82% , 23% , 91%); }\n::slotted(* | * . cisro ::kak:mi) { background-clip: content-box; border-bottom: medium ridge magenta; border-style: outset; }\n:indeterminate { grid-template: none; border-block: outset thick rgb(8464584490876928 , 4%); }\n:first-of-type { backface-visibility: hidden; text-transform: full-size-kana; text-shadow: none; border-top-style: double; padding-block: 7%; }\n:link { max-height: 70%; }\n:first { writing-mode: sideways-rl; padding-block-end: 38%; text-emphasis-style: 'juz'; }\n* { font-kerning: normal; border-block-start: hidden medium; grid-column-end: selu; border-width: thick; grid-auto-columns: fit-content(72.1927in); }\n:first-child { scroll-margin-top: 205.5638rem; box-sizing: content-box; border-bottom-width: thick; }\n[colspan=monokaivi] { border-image-width: -247.0733vh; }\n:valid { word-break: break-word; border-image-outset: 188.2614vh; flex-wrap: wrap; }\n::selection { scroll-padding-right: 6%; grid-row: auto / ba; block-size: auto; padding: 53%; z-index: 100%; }\n::first-letter { margin-inline-end: auto; page-break-after: verso; resize: inline; }\n:hover { border-top: thick hsl(-4888336636313600 , 88% , 67% , 62%); background: 52% center / contain element(#dutsabi) content-box , fixed repeat-x content-box padding-box #9704d8 image-set('isri' 450.9104x); }\n::first-letter { color: #860acc; shape-outside: repeating-radial-gradient(ellipse at left -81.7285ch bottom 49% , hsl(2403136115310592 58% 24% / -7640567026548736) 13% , -743.9084px , rgba(-6506311248248832 / 64%) -636.2399rem); }\n:fullscreen { text-emphasis-color: currentcolor; grid-row-end: geb 65%; border-inline-end: -822.595px rgb(46% , -5290221440598016); }\n::cue { image-rendering: auto; }\n",
      'font-weight:bold ;\n@charset "IBM423" ;\n[readonly=ojbeaco] { border-inline-end-style: outset; border-left-style: double; flex-flow: column wrap-reverse; }\n:focus { grid-column-end: ha 43%; overflow-x: auto; scroll-padding-top: 53%; }\n.nem { border-top: medium; flex-shrink: -5723464715468800; }\n.efki { border-start-end-radius: 34%; }\n:nth-of-type(even) { empty-cells: hide; object-fit: cover; grid-template: none; margin-inline-end: 74%; }\n:nth-last-of-type(even) { margin-inline-start: 57%; border-bottom-right-radius: -432.4482mm; flex: content -2592330896900096 -31566692614144; word-break: break-all; }\n:nth-of-type(odd) { align-items: normal; border-right-width: -269.2864ex; }\n',
      '@keyframes af { from { scroll-padding-right: auto; background-blend-mode: hard-light; animation-delay: -179.2064s; will-change: scroll-position; text-emphasis-color: hsla(834.7913turn , 0% , 82% , 26%); } }\n:last-of-type { padding-top: 82%; }\n::first-line { list-style-image: none; margin-block-end: 28%; scroll-padding-left: -625.9125vw; column-rule-width: medium; }\n:invalid { inset: auto; }\n:disabled { border-block-start-width: medium; mask-mode: match-source; clear: none; }\n',
      "font-feature-settings:'ufe' off ; unicode-range:U+cf53-dbb8 ; font-variant:normal ; font-stretch:extra-expanded ; @font-face { font-family:'noaj' ; src:url(esuduuwe) format('cu') ; font-variation-settings:'cutetgod' 5857069592739840 ; font-style:normal ; } font-weight:normal ;\n@keyframes rujin { to { scroll-padding: auto; font-weight: lighter; flex-shrink: 7199768698683392; grid-column-end: 50% sejmem; } }\n:nth-child(10n+3 of * | * #kosva ::timinofoh:zab unset ) ~ katdevdo | * . ralmo ::tisirse auto ):semiop 17% )) { inline-size: border-box 88%; }\n:nth-last-of-type(odd) { margin: auto; }\n:read-write { text-transform: none; padding-inline: 15%; scale: -2261971244154880; mask-image: none; }\n:invalid { perspective-origin: bottom center; }\n:dir(rtl) ~ ::after || :active > ::after > ::first-line { table-layout: auto; inset-block-start: 182.5509Q; }\n:indeterminate { background-clip: content-box; content: normal; }\n:valid { align-content: space-around; border-block-start-width: thin; font-synthesis: style weight; cursor: url(ponig) -934.3067pc 825.499em , cell; }\n:active { hyphens: none; font-variant: normal; text-overflow: clip; }\n:focus { margin-inline: 264.5286ex; all: initial; orphans: 3%; border-inline-width: thick; }\n::placeholder { border-image: fill 39541817737216 / -3423871831113728 stretch; font-language-override: 'awgi'; border-inline-start: thick #96635c; }\n* { scrollbar-width: none; grid-auto-columns: minmax(min-content , min-content); }\n",
      '@charset "UTF-7" ;\n:nth-last-child(odd of ec | legtikbud:mamhevi proximity ) ::savrer:usetumur > ic | cof:in ::iwukeg dark ):jukis) { flex: none; shape-margin: -560.979vw; white-space: pre-wrap; }\n:target { border-block-start-width: thick; }\n:nth-last-child(even of * | * . miperop ::fo:fiwve luminance ) || * | * #pecmolwec ::ju:senvifovi) { float: inline-start; inset-block-start: 4%; display: flow block; }\n:nth-of-type(odd) { background-position: -125.6132mm 72%; clip-path: fill-box ellipse(farthest-side at left -460.1776ch bottom -675.9723px); }\n::after { scroll-padding-top: auto; }\n::placeholder { border-image-repeat: repeat; mask-size: contain; grid-row-end: auto; }\n:fullscreen { display: contents; }\n:left { overflow-y: clip; font-variant-numeric: normal; border-top-left-radius: 638.2047cm; scroll-margin-inline-start: -995.3213rem; }\n::selection { align-content: space-between; flex: none; }\n:valid + ::first-line { border-collapse: separate; transition-delay: 381.1205ms; inset-inline: -826.5896px; transition-timing-function: steps(47% , jump-both); scroll-margin-left: 518.0717Q; }\n',
      '@charset "VISCII" ;\n@keyframes teububar { to { z-index: auto; list-style-image: none; grid-row-end: span guukalo; shape-outside: none; scroll-padding-top: auto; } }\n:first-child { scroll-padding-inline: 300.3347px; flex-basis: content; list-style-position: inside; }\n:last-of-type { text-decoration-color: lightslategray; }\n:fullscreen { page-break-after: avoid; background-origin: padding-box; column-rule: groove hsl(40.3362turn , 43% , 62% , 23%) thin; }\n.ubagij { touch-action: manipulation; background-repeat: repeat; direction: ltr; row-gap: normal; font-optical-sizing: auto; }\n:last-of-type { mask-type: alpha; text-align: end; will-change: auto; }\n:scope { font-variant: none; }\n:in-range { perspective-origin: left -290.7557in top 29%; padding-left: 178.2171ch; break-before: auto; }\n::first-letter { background: repeating-radial-gradient(ellipse closest-corner at bottom 47% right 99% , rgba(100% , -4833772847497216) 885.4636vmax , 23% , #d4a4fc 12%) left / -926.5362em content-box , content-box 100% bottom / 30.4958vh fixed yellowgreen none content-box; scroll-padding: auto; border-right-style: groove; border-right-style: ridge; justify-items: normal; }\n:nth-last-of-type(odd) { shape-margin: -85.1358vmin; font-feature-settings: normal; box-sizing: content-box; }\n:last-of-type { backface-visibility: hidden; scroll-snap-stop: always; animation-name: rocme; flex-grow: -8915647576670208; border-width: medium; }\n:required { hyphens: manual; }\n[wrap=vu] { word-wrap: break-word; }\n* { text-decoration-color: hsla(813.0275turn , 57% , 35% , 68%); letter-spacing: 728.9858in; perspective: 42.5206vh; }\n::before { border-top-color: currentcolor; border-image-slice: fill 33%; scroll-padding-inline-end: auto; padding-block-end: 68%; }\n',
      ':read-write { border-inline-start: WindowFrame; text-align: right; animation-fill-mode: both; scroll-padding-block-end: auto; }\n:visited > :first-of-type { place-items: unsafe center legacy; list-style-image: none; }\n:root { border-width: -613.7343in; border-block-color: #539126; width: max-content; }\n:only-of-type { border-width: thin; }\n:only-of-type { justify-self: safe center; }\n:enabled { animation-delay: 82.5332ms; translate: -215.6976Q 864.0563vh -794.9806vh; transform-box: border-box; overflow-y: scroll; }\n[rows=wo] { padding-inline: 47%; }\n:fullscreen { mask-repeat: repeat-x; }\n#uzonopso { animation-duration: -868.7477ms; scroll-padding-block-start: auto; }\n:focus { scroll-padding-block: 366.5908ch; grid: none; grid-row: 71% span / auto; }\n:not(* | * [ zovaez | biowituk ] ::uh avoid-page ):zebuwen auto ) + * | * #ec ::num 252.4406vh ):iw) { mask-position: left top; mask: no-clip; border-top-left-radius: 116.8254ex; border-right-width: thin; border-image-source: none; }\n:optional { column-span: none; margin-left: auto; font-variant-numeric: normal; }\n::slotted(co | puwep [ * | ibozaha * = pi s ] ::roohpi:cacekfu) { border-inline-start-width: medium; padding: 82%; border-inline-start-width: -665.0349rem; }\n'
    ]);
  });
});
